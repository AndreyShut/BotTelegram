2025-05-20 21:42:45,398 - __main__ - INFO - Бот запускается
2025-05-20 21:42:45,667 - app.db_manager - INFO - Database connection established
2025-05-20 21:42:45,865 - aiogram.dispatcher - INFO - Start polling
2025-05-20 21:42:45,869 - app.notification - INFO - Starting notification cycle
2025-05-20 21:42:45,870 - app.notification - INFO - Starting change tracking cycle
2025-05-20 21:42:45,875 - app.notification - INFO - Change tracking completed at 2025-05-20 21:42:45.867365
2025-05-20 21:42:45,878 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-20 21:42:45,928 - aiogram.dispatcher - INFO - Run polling for bot @pgunoticebot id=7708914926 - '$pgu_notice'
2025-05-20 21:42:50,897 - app.notification - INFO - Starting change tracking cycle
2025-05-20 21:42:50,900 - app.notification - INFO - Change tracking completed at 2025-05-20 21:42:50.894640
2025-05-20 21:42:55,885 - app.notification - INFO - Starting notification cycle
2025-05-20 21:42:55,891 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-20 21:42:55,913 - app.notification - INFO - Starting change tracking cycle
2025-05-20 21:42:55,917 - app.notification - INFO - Change tracking completed at 2025-05-20 21:42:55.909787
2025-05-20 21:43:00,931 - app.notification - INFO - Starting change tracking cycle
2025-05-20 21:43:00,935 - app.notification - INFO - Change tracking completed at 2025-05-20 21:43:00.928634
2025-05-20 21:43:05,894 - app.notification - INFO - Starting notification cycle
2025-05-20 21:43:05,900 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-20 21:43:05,947 - app.notification - INFO - Starting change tracking cycle
2025-05-20 21:43:05,951 - app.notification - INFO - Change tracking completed at 2025-05-20 21:43:05.945406
2025-05-20 21:43:10,966 - app.notification - INFO - Starting change tracking cycle
2025-05-20 21:43:10,969 - app.notification - INFO - Change tracking completed at 2025-05-20 21:43:10.964262
2025-05-20 21:43:13,431 - aiogram.event - INFO - Update id=804788394 is handled. Duration 302 ms by bot id=7708914926
2025-05-20 21:43:15,915 - app.notification - INFO - Starting notification cycle
2025-05-20 21:43:15,921 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-20 21:43:15,978 - app.notification - INFO - Starting change tracking cycle
2025-05-20 21:43:15,982 - app.notification - INFO - Change tracking completed at 2025-05-20 21:43:15.976052
2025-05-20 21:43:20,988 - app.notification - INFO - Starting change tracking cycle
2025-05-20 21:43:20,992 - app.notification - INFO - Change tracking completed at 2025-05-20 21:43:20.986143
2025-05-20 21:43:21,982 - aiogram.event - INFO - Update id=804788395 is handled. Duration 160 ms by bot id=7708914926
2025-05-20 21:43:25,656 - aiogram.event - INFO - Update id=804788396 is handled. Duration 142 ms by bot id=7708914926
2025-05-20 21:43:25,936 - app.notification - INFO - Starting notification cycle
2025-05-20 21:43:25,944 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-20 21:43:26,011 - app.notification - INFO - Starting change tracking cycle
2025-05-20 21:43:26,015 - app.notification - INFO - Change tracking completed at 2025-05-20 21:43:26.008848
2025-05-20 21:43:28,271 - aiogram.event - INFO - Update id=804788397 is handled. Duration 136 ms by bot id=7708914926
2025-05-20 21:43:29,759 - aiogram.event - INFO - Update id=804788398 is handled. Duration 217 ms by bot id=7708914926
2025-05-20 21:43:31,031 - app.notification - INFO - Starting change tracking cycle
2025-05-20 21:43:31,037 - app.notification - INFO - Change tracking completed at 2025-05-20 21:43:31.029569
2025-05-20 21:43:34,082 - aiogram.event - INFO - Update id=804788399 is handled. Duration 149 ms by bot id=7708914926
2025-05-20 21:43:35,944 - app.notification - INFO - Starting notification cycle
2025-05-20 21:43:35,951 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-20 21:43:36,047 - app.notification - INFO - Starting change tracking cycle
2025-05-20 21:43:36,052 - app.notification - INFO - Change tracking completed at 2025-05-20 21:43:36.045565
2025-05-20 21:43:36,123 - aiogram.event - INFO - Update id=804788400 is handled. Duration 204 ms by bot id=7708914926
2025-05-20 21:43:38,399 - aiogram.event - INFO - Update id=804788401 is handled. Duration 241 ms by bot id=7708914926
2025-05-20 21:43:40,592 - aiogram.event - INFO - Update id=804788402 is handled. Duration 244 ms by bot id=7708914926
2025-05-20 21:43:41,062 - app.notification - INFO - Starting change tracking cycle
2025-05-20 21:43:41,066 - app.notification - INFO - Change tracking completed at 2025-05-20 21:43:41.060494
2025-05-20 21:43:42,776 - aiogram.event - INFO - Update id=804788403 is handled. Duration 210 ms by bot id=7708914926
2025-05-20 21:43:45,012 - aiogram.event - INFO - Update id=804788404 is handled. Duration 172 ms by bot id=7708914926
2025-05-20 21:43:45,954 - app.notification - INFO - Starting notification cycle
2025-05-20 21:43:45,961 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-20 21:43:46,082 - app.notification - INFO - Starting change tracking cycle
2025-05-20 21:43:46,085 - app.notification - INFO - Change tracking completed at 2025-05-20 21:43:46.079705
2025-05-20 21:43:49,276 - aiogram.event - INFO - Update id=804788405 is handled. Duration 186 ms by bot id=7708914926
2025-05-20 21:43:51,103 - app.notification - INFO - Starting change tracking cycle
2025-05-20 21:43:51,108 - app.notification - INFO - Change tracking completed at 2025-05-20 21:43:51.101336
2025-05-20 21:43:55,965 - app.notification - INFO - Starting notification cycle
2025-05-20 21:43:55,971 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-20 21:43:56,122 - app.notification - INFO - Starting change tracking cycle
2025-05-20 21:43:56,126 - app.notification - INFO - Change tracking completed at 2025-05-20 21:43:56.119137
2025-05-20 21:44:01,145 - app.notification - INFO - Starting change tracking cycle
2025-05-20 21:44:01,149 - app.notification - INFO - Change tracking completed at 2025-05-20 21:44:01.143171
2025-05-20 21:44:05,986 - app.notification - INFO - Starting notification cycle
2025-05-20 21:44:05,992 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-20 21:44:06,168 - app.notification - INFO - Starting change tracking cycle
2025-05-20 21:44:06,172 - app.notification - INFO - Change tracking completed at 2025-05-20 21:44:06.166371
2025-05-20 21:44:11,187 - app.notification - INFO - Starting change tracking cycle
2025-05-20 21:44:11,190 - app.notification - INFO - Change tracking completed at 2025-05-20 21:44:11.186016
2025-05-20 21:44:14,753 - aiogram.event - INFO - Update id=804788406 is handled. Duration 206 ms by bot id=7708914926
2025-05-20 21:44:16,008 - app.notification - INFO - Starting notification cycle
2025-05-20 21:44:16,016 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-20 21:44:16,205 - app.notification - INFO - Starting change tracking cycle
2025-05-20 21:44:16,208 - app.notification - INFO - Change tracking completed at 2025-05-20 21:44:16.203396
2025-05-20 21:44:18,942 - aiogram.event - INFO - Update id=804788407 is handled. Duration 241 ms by bot id=7708914926
2025-05-20 21:44:21,219 - app.notification - INFO - Starting change tracking cycle
2025-05-20 21:44:21,224 - app.notification - INFO - Change tracking completed at 2025-05-20 21:44:21.217290
2025-05-20 21:44:21,480 - aiogram.event - INFO - Update id=804788408 is handled. Duration 313 ms by bot id=7708914926
2025-05-20 21:44:23,264 - aiogram.event - INFO - Update id=804788409 is handled. Duration 129 ms by bot id=7708914926
2025-05-20 21:44:24,409 - aiogram.event - INFO - Update id=804788410 is handled. Duration 169 ms by bot id=7708914926
2025-05-20 21:44:26,021 - app.notification - INFO - Starting notification cycle
2025-05-20 21:44:26,028 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-20 21:44:26,231 - app.notification - INFO - Starting change tracking cycle
2025-05-20 21:44:26,235 - app.notification - INFO - Change tracking completed at 2025-05-20 21:44:26.229230
2025-05-20 21:44:29,897 - aiogram.event - INFO - Update id=804788411 is handled. Duration 198 ms by bot id=7708914926
2025-05-20 21:44:31,239 - app.notification - INFO - Starting change tracking cycle
2025-05-20 21:44:31,244 - app.notification - INFO - Change tracking completed at 2025-05-20 21:44:31.237892
2025-05-20 21:44:36,029 - app.notification - INFO - Starting notification cycle
2025-05-20 21:44:36,036 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-20 21:44:36,262 - app.notification - INFO - Starting change tracking cycle
2025-05-20 21:44:36,266 - app.notification - INFO - Change tracking completed at 2025-05-20 21:44:36.259877
2025-05-20 21:44:41,284 - app.notification - INFO - Starting change tracking cycle
2025-05-20 21:44:41,287 - app.notification - INFO - Change tracking completed at 2025-05-20 21:44:41.282673
2025-05-20 21:44:42,647 - aiogram.event - INFO - Update id=804788412 is handled. Duration 249 ms by bot id=7708914926
2025-05-20 21:44:46,048 - app.notification - INFO - Starting notification cycle
2025-05-20 21:44:46,054 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-20 21:44:46,295 - app.notification - INFO - Starting change tracking cycle
2025-05-20 21:44:46,299 - app.notification - INFO - Change tracking completed at 2025-05-20 21:44:46.292228
2025-05-20 21:44:51,313 - app.notification - INFO - Starting change tracking cycle
2025-05-20 21:44:51,317 - app.notification - INFO - Change tracking completed at 2025-05-20 21:44:51.311842
2025-05-20 21:44:56,055 - app.notification - INFO - Starting notification cycle
2025-05-20 21:44:56,065 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-20 21:44:56,179 - aiogram.event - INFO - Update id=804788413 is handled. Duration 120 ms by bot id=7708914926
2025-05-20 21:44:56,328 - app.notification - INFO - Starting change tracking cycle
2025-05-20 21:44:56,330 - app.notification - INFO - Change tracking completed at 2025-05-20 21:44:56.326020
2025-05-20 21:44:57,261 - aiogram.event - INFO - Update id=804788414 is handled. Duration 129 ms by bot id=7708914926
2025-05-20 21:45:00,057 - aiogram.event - INFO - Update id=804788415 is handled. Duration 179 ms by bot id=7708914926
2025-05-20 21:45:01,345 - app.notification - INFO - Starting change tracking cycle
2025-05-20 21:45:01,350 - app.notification - INFO - Change tracking completed at 2025-05-20 21:45:01.343459
2025-05-20 21:45:05,799 - aiogram.event - INFO - Update id=804788416 is handled. Duration 114 ms by bot id=7708914926
2025-05-20 21:45:06,071 - app.notification - INFO - Starting notification cycle
2025-05-20 21:45:06,078 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-20 21:45:06,370 - app.notification - INFO - Starting change tracking cycle
2025-05-20 21:45:06,374 - app.notification - INFO - Change tracking completed at 2025-05-20 21:45:06.368213
2025-05-20 21:45:08,391 - aiogram.event - INFO - Update id=804788417 is handled. Duration 155 ms by bot id=7708914926
2025-05-20 21:45:10,235 - app.db_manager - ERROR - Database error: UNIQUE constraint failed: student_debts.student_id, student_debts.discipline_id, student_debts.debt_type_id
2025-05-20 21:45:10,235 - app.handlers - ERROR - Ошибка обновления долга: UNIQUE constraint failed: student_debts.student_id, student_debts.discipline_id, student_debts.debt_type_id
2025-05-20 21:45:10,326 - aiogram.event - INFO - Update id=804788418 is handled. Duration 144 ms by bot id=7708914926
2025-05-20 21:45:11,393 - app.notification - INFO - Starting change tracking cycle
2025-05-20 21:45:11,398 - app.notification - INFO - Change tracking completed at 2025-05-20 21:45:11.391189
2025-05-20 21:45:16,094 - app.notification - INFO - Starting notification cycle
2025-05-20 21:45:16,101 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-20 21:45:16,403 - app.notification - INFO - Starting change tracking cycle
2025-05-20 21:45:16,408 - app.notification - INFO - Change tracking completed at 2025-05-20 21:45:16.401103
2025-05-20 21:45:19,083 - aiogram.event - INFO - Update id=804788419 is handled. Duration 58 ms by bot id=7708914926
2025-05-20 21:45:21,419 - app.notification - INFO - Starting change tracking cycle
2025-05-20 21:45:21,423 - app.notification - INFO - Change tracking completed at 2025-05-20 21:45:21.417328
2025-05-20 21:45:22,250 - aiogram.event - INFO - Update id=804788420 is handled. Duration 150 ms by bot id=7708914926
2025-05-20 21:45:25,551 - aiogram.event - INFO - Update id=804788421 is handled. Duration 152 ms by bot id=7708914926
2025-05-20 21:45:26,102 - app.notification - INFO - Starting notification cycle
2025-05-20 21:45:26,109 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-20 21:45:26,440 - app.notification - INFO - Starting change tracking cycle
2025-05-20 21:45:26,445 - app.notification - INFO - Change tracking completed at 2025-05-20 21:45:26.438706
2025-05-20 21:45:26,982 - aiogram.event - INFO - Update id=804788422 is handled. Duration 157 ms by bot id=7708914926
2025-05-20 21:45:29,006 - aiogram.event - INFO - Update id=804788423 is handled. Duration 372 ms by bot id=7708914926
2025-05-20 21:45:31,368 - aiogram.event - INFO - Update id=804788424 is handled. Duration 224 ms by bot id=7708914926
2025-05-20 21:45:31,456 - app.notification - INFO - Starting change tracking cycle
2025-05-20 21:45:31,461 - app.notification - INFO - Change tracking completed at 2025-05-20 21:45:31.454063
2025-05-20 21:45:34,121 - aiogram.event - INFO - Update id=804788425 is handled. Duration 156 ms by bot id=7708914926
2025-05-20 21:45:36,110 - app.notification - INFO - Starting notification cycle
2025-05-20 21:45:36,140 - app.notification - INFO - Notification cycle completed in 0.03s
2025-05-20 21:45:36,365 - aiogram.event - INFO - Update id=804788426 is handled. Duration 256 ms by bot id=7708914926
2025-05-20 21:45:36,470 - app.notification - INFO - Starting change tracking cycle
2025-05-20 21:45:36,475 - app.notification - INFO - Change tracking completed at 2025-05-20 21:45:36.468056
2025-05-20 21:45:40,329 - aiogram.event - INFO - Update id=804788427 is handled. Duration 154 ms by bot id=7708914926
2025-05-20 21:45:41,489 - app.notification - INFO - Starting change tracking cycle
2025-05-20 21:45:41,495 - app.notification - INFO - Change tracking completed at 2025-05-20 21:45:41.486473
2025-05-20 21:45:46,143 - app.notification - INFO - Starting notification cycle
2025-05-20 21:45:46,382 - app.notification - INFO - Test reminder 9 sent to 1 users
2025-05-20 21:45:46,386 - app.notification - INFO - Notification cycle completed in 0.24s
2025-05-20 21:45:46,503 - app.notification - INFO - Starting change tracking cycle
2025-05-20 21:45:46,507 - app.notification - INFO - Change tracking completed at 2025-05-20 21:45:46.500927
2025-05-20 21:45:51,512 - app.notification - INFO - Starting change tracking cycle
2025-05-20 21:45:51,516 - app.notification - INFO - Change tracking completed at 2025-05-20 21:45:51.510654
2025-05-20 21:45:54,016 - aiogram.event - INFO - Update id=804788428 is handled. Duration 129 ms by bot id=7708914926
2025-05-20 21:45:56,402 - app.notification - INFO - Starting notification cycle
2025-05-20 21:45:56,409 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-20 21:45:56,526 - app.notification - INFO - Starting change tracking cycle
2025-05-20 21:45:56,531 - app.notification - INFO - Change tracking completed at 2025-05-20 21:45:56.524036
2025-05-20 21:45:58,460 - aiogram.event - INFO - Update id=804788429 is handled. Duration 161 ms by bot id=7708914926
2025-05-20 21:46:00,611 - aiogram.event - INFO - Update id=804788430 is handled. Duration 320 ms by bot id=7708914926
2025-05-20 21:46:01,553 - app.notification - INFO - Starting change tracking cycle
2025-05-20 21:46:01,558 - app.notification - INFO - Change tracking completed at 2025-05-20 21:46:01.550074
2025-05-20 21:46:03,611 - aiogram.event - INFO - Update id=804788431 is handled. Duration 170 ms by bot id=7708914926
2025-05-20 21:46:05,224 - aiogram.event - INFO - Update id=804788432 is handled. Duration 196 ms by bot id=7708914926
2025-05-20 21:46:06,413 - app.notification - INFO - Starting notification cycle
2025-05-20 21:46:06,423 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-20 21:46:06,568 - app.notification - INFO - Starting change tracking cycle
2025-05-20 21:46:06,572 - app.notification - INFO - Change tracking completed at 2025-05-20 21:46:06.565975
2025-05-20 21:46:08,909 - aiogram.event - INFO - Update id=804788433 is handled. Duration 141 ms by bot id=7708914926
2025-05-20 21:46:11,581 - app.notification - INFO - Starting change tracking cycle
2025-05-20 21:46:11,585 - app.notification - INFO - Change tracking completed at 2025-05-20 21:46:11.579475
2025-05-20 21:46:16,428 - app.notification - INFO - Starting notification cycle
2025-05-20 21:46:16,435 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-20 21:46:16,601 - app.notification - INFO - Starting change tracking cycle
2025-05-20 21:46:16,605 - app.notification - INFO - Change tracking completed at 2025-05-20 21:46:16.598458
2025-05-20 21:46:21,615 - app.notification - INFO - Starting change tracking cycle
2025-05-20 21:46:21,618 - app.notification - INFO - Change tracking completed at 2025-05-20 21:46:21.612973
2025-05-20 21:46:26,447 - app.notification - INFO - Starting notification cycle
2025-05-20 21:46:26,453 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-20 21:46:26,631 - app.notification - INFO - Starting change tracking cycle
2025-05-20 21:46:26,635 - app.notification - INFO - Change tracking completed at 2025-05-20 21:46:26.629056
2025-05-20 21:46:31,653 - app.notification - INFO - Starting change tracking cycle
2025-05-20 21:46:31,656 - app.notification - INFO - Change tracking completed at 2025-05-20 21:46:31.650862
2025-05-20 21:46:36,457 - app.notification - INFO - Starting notification cycle
2025-05-20 21:46:36,463 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-20 21:46:36,660 - app.notification - INFO - Starting change tracking cycle
2025-05-20 21:46:36,664 - app.notification - INFO - Change tracking completed at 2025-05-20 21:46:36.658367
2025-05-20 21:46:41,673 - app.notification - INFO - Starting change tracking cycle
2025-05-20 21:46:41,677 - app.notification - INFO - Change tracking completed at 2025-05-20 21:46:41.670997
2025-05-20 21:46:46,472 - app.notification - INFO - Starting notification cycle
2025-05-20 21:46:46,478 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-20 21:46:46,691 - app.notification - INFO - Starting change tracking cycle
2025-05-20 21:46:46,695 - app.notification - INFO - Change tracking completed at 2025-05-20 21:46:46.688895
2025-05-20 21:46:51,708 - app.notification - INFO - Starting change tracking cycle
2025-05-20 21:46:51,712 - app.notification - INFO - Change tracking completed at 2025-05-20 21:46:51.706619
2025-05-20 21:46:56,483 - app.notification - INFO - Starting notification cycle
2025-05-20 21:46:56,487 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-20 21:46:56,718 - app.notification - INFO - Starting change tracking cycle
2025-05-20 21:46:56,721 - app.notification - INFO - Change tracking completed at 2025-05-20 21:46:56.716670
2025-05-20 21:47:01,728 - app.notification - INFO - Starting change tracking cycle
2025-05-20 21:47:01,732 - app.notification - INFO - Change tracking completed at 2025-05-20 21:47:01.726450
2025-05-20 21:47:06,490 - app.notification - INFO - Starting notification cycle
2025-05-20 21:47:06,496 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-20 21:47:06,739 - app.notification - INFO - Starting change tracking cycle
2025-05-20 21:47:06,742 - app.notification - INFO - Change tracking completed at 2025-05-20 21:47:06.736030
2025-05-20 21:47:11,748 - app.notification - INFO - Starting change tracking cycle
2025-05-20 21:47:11,751 - app.notification - INFO - Change tracking completed at 2025-05-20 21:47:11.746757
2025-05-20 21:47:16,508 - app.notification - INFO - Starting notification cycle
2025-05-20 21:47:16,515 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-20 21:47:16,769 - app.notification - INFO - Starting change tracking cycle
2025-05-20 21:47:16,773 - app.notification - INFO - Change tracking completed at 2025-05-20 21:47:16.767439
2025-05-20 21:47:21,780 - app.notification - INFO - Starting change tracking cycle
2025-05-20 21:47:21,783 - app.notification - INFO - Change tracking completed at 2025-05-20 21:47:21.778948
2025-05-20 21:47:26,518 - app.notification - INFO - Starting notification cycle
2025-05-20 21:47:26,526 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-20 21:47:26,801 - app.notification - INFO - Starting change tracking cycle
2025-05-20 21:47:26,804 - app.notification - INFO - Change tracking completed at 2025-05-20 21:47:26.799056
2025-05-20 21:47:30,728 - aiogram.dispatcher - INFO - Polling stopped
2025-05-20 21:47:30,994 - app.notification - INFO - Notification service stopped
2025-05-20 21:47:30,995 - aiogram.dispatcher - INFO - Polling stopped for bot @pgunoticebot id=7708914926 - '$pgu_notice'
2025-05-20 21:47:30,996 - app.notification - INFO - Database connection closed
2025-05-20 21:47:30,999 - __main__ - INFO - Бот остановлен по запросу пользователя
2025-05-20 21:47:30,999 - __main__ - INFO - Работа бота завершена
2025-05-20 22:24:18,252 - __main__ - INFO - Бот запускается
2025-05-20 22:24:18,446 - app.db_manager - INFO - Database connection established
2025-05-20 22:24:18,678 - aiogram.dispatcher - INFO - Start polling
2025-05-20 22:24:18,681 - app.notification - INFO - Starting notification cycle
2025-05-20 22:24:18,681 - app.notification - INFO - Starting change tracking cycle
2025-05-20 22:24:18,682 - app.notification - ERROR - Error in check_test_changes: near "ADN": syntax error
Traceback (most recent call last):
  File "C:\Users\Shuti\TelegramBot\app\notification.py", line 87, in check_test_changes
    async with db_connection.execute('''
               ~~~~~~~~~~~~~~~~~~~~~^^^^
        SELECT t.id, t.test_link, t.date, g.name_group, subj.name, tch.full_name,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<14 lines>...
        GROUP BY t.id, change_type
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ''', (last_check_str,) * 6) as cursor:
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\context.py", line 41, in __aenter__
    self._obj = await self._coro
                ^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 105, in run
    result = function()
sqlite3.OperationalError: near "ADN": syntax error
2025-05-20 22:24:18,687 - app.notification - ERROR - Error in tracker main loop: near "ADN": syntax error
Traceback (most recent call last):
  File "C:\Users\Shuti\TelegramBot\app\notification.py", line 60, in track_changes
    await asyncio.gather(test_task, debt_task)
  File "C:\Users\Shuti\TelegramBot\app\notification.py", line 87, in check_test_changes
    async with db_connection.execute('''
               ~~~~~~~~~~~~~~~~~~~~~^^^^
        SELECT t.id, t.test_link, t.date, g.name_group, subj.name, tch.full_name,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<14 lines>...
        GROUP BY t.id, change_type
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ''', (last_check_str,) * 6) as cursor:
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\context.py", line 41, in __aenter__
    self._obj = await self._coro
                ^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 105, in run
    result = function()
sqlite3.OperationalError: near "ADN": syntax error
2025-05-20 22:24:18,702 - app.notification - ERROR - Error in check_debt_changes: Cannot operate on a closed database.
Traceback (most recent call last):
  File "C:\Users\Shuti\TelegramBot\app\notification.py", line 216, in check_debt_changes
    async with db_connection.execute('''
               ~~~~~~~~~~~~~~~~~~~~~^^^^
        SELECT sd.student_id, sd.discipline_id, sd.debt_type_id,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<14 lines>...
        GROUP BY sd.student_id, sd.discipline_id, sd.debt_type_id, change_type
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ''', (last_check_str,) * 6) as cursor:
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\context.py", line 46, in __aexit__
    await self._obj.close()
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\cursor.py", line 72, in close
    await self._execute(self._cursor.close)
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\cursor.py", line 32, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 105, in run
    result = function()
sqlite3.ProgrammingError: Cannot operate on a closed database.
2025-05-20 22:24:18,709 - app.notification - INFO - Notification cycle completed in 0.03s
2025-05-20 22:24:18,754 - aiogram.dispatcher - INFO - Run polling for bot @pgunoticebot id=7708914926 - '$pgu_notice'
2025-05-20 22:24:28,719 - app.notification - INFO - Starting notification cycle
2025-05-20 22:24:28,721 - app.notification - INFO - Starting change tracking cycle
2025-05-20 22:24:28,723 - app.notification - ERROR - Error in check_test_changes: near "ADN": syntax error
Traceback (most recent call last):
  File "C:\Users\Shuti\TelegramBot\app\notification.py", line 87, in check_test_changes
    async with db_connection.execute('''
               ~~~~~~~~~~~~~~~~~~~~~^^^^
        SELECT t.id, t.test_link, t.date, g.name_group, subj.name, tch.full_name,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<14 lines>...
        GROUP BY t.id, change_type
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ''', (last_check_str,) * 6) as cursor:
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\context.py", line 41, in __aenter__
    self._obj = await self._coro
                ^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 105, in run
    result = function()
sqlite3.OperationalError: near "ADN": syntax error
2025-05-20 22:24:28,726 - app.notification - ERROR - Error in tracker main loop: near "ADN": syntax error
Traceback (most recent call last):
  File "C:\Users\Shuti\TelegramBot\app\notification.py", line 60, in track_changes
    await asyncio.gather(test_task, debt_task)
  File "C:\Users\Shuti\TelegramBot\app\notification.py", line 87, in check_test_changes
    async with db_connection.execute('''
               ~~~~~~~~~~~~~~~~~~~~~^^^^
        SELECT t.id, t.test_link, t.date, g.name_group, subj.name, tch.full_name,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<14 lines>...
        GROUP BY t.id, change_type
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ''', (last_check_str,) * 6) as cursor:
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\context.py", line 41, in __aenter__
    self._obj = await self._coro
                ^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 105, in run
    result = function()
sqlite3.OperationalError: near "ADN": syntax error
2025-05-20 22:24:28,730 - app.notification - ERROR - Error in check_debt_changes: Cannot operate on a closed database.
Traceback (most recent call last):
  File "C:\Users\Shuti\TelegramBot\app\notification.py", line 216, in check_debt_changes
    async with db_connection.execute('''
               ~~~~~~~~~~~~~~~~~~~~~^^^^
        SELECT sd.student_id, sd.discipline_id, sd.debt_type_id,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<14 lines>...
        GROUP BY sd.student_id, sd.discipline_id, sd.debt_type_id, change_type
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ''', (last_check_str,) * 6) as cursor:
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\context.py", line 46, in __aexit__
    await self._obj.close()
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\cursor.py", line 72, in close
    await self._execute(self._cursor.close)
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\cursor.py", line 32, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 105, in run
    result = function()
sqlite3.ProgrammingError: Cannot operate on a closed database.
2025-05-20 22:24:28,735 - app.notification - INFO - Notification cycle completed in 0.02s
2025-05-20 22:24:38,740 - app.notification - INFO - Starting notification cycle
2025-05-20 22:24:38,741 - app.notification - INFO - Starting change tracking cycle
2025-05-20 22:24:38,743 - app.notification - ERROR - Error in check_test_changes: near "ADN": syntax error
Traceback (most recent call last):
  File "C:\Users\Shuti\TelegramBot\app\notification.py", line 87, in check_test_changes
    async with db_connection.execute('''
               ~~~~~~~~~~~~~~~~~~~~~^^^^
        SELECT t.id, t.test_link, t.date, g.name_group, subj.name, tch.full_name,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<14 lines>...
        GROUP BY t.id, change_type
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ''', (last_check_str,) * 6) as cursor:
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\context.py", line 41, in __aenter__
    self._obj = await self._coro
                ^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 105, in run
    result = function()
sqlite3.OperationalError: near "ADN": syntax error
2025-05-20 22:24:38,747 - app.notification - ERROR - Error in tracker main loop: near "ADN": syntax error
Traceback (most recent call last):
  File "C:\Users\Shuti\TelegramBot\app\notification.py", line 60, in track_changes
    await asyncio.gather(test_task, debt_task)
  File "C:\Users\Shuti\TelegramBot\app\notification.py", line 87, in check_test_changes
    async with db_connection.execute('''
               ~~~~~~~~~~~~~~~~~~~~~^^^^
        SELECT t.id, t.test_link, t.date, g.name_group, subj.name, tch.full_name,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<14 lines>...
        GROUP BY t.id, change_type
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ''', (last_check_str,) * 6) as cursor:
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\context.py", line 41, in __aenter__
    self._obj = await self._coro
                ^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 105, in run
    result = function()
sqlite3.OperationalError: near "ADN": syntax error
2025-05-20 22:24:38,750 - app.notification - ERROR - Error in check_debt_changes: Cannot operate on a closed database.
Traceback (most recent call last):
  File "C:\Users\Shuti\TelegramBot\app\notification.py", line 216, in check_debt_changes
    async with db_connection.execute('''
               ~~~~~~~~~~~~~~~~~~~~~^^^^
        SELECT sd.student_id, sd.discipline_id, sd.debt_type_id,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<14 lines>...
        GROUP BY sd.student_id, sd.discipline_id, sd.debt_type_id, change_type
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ''', (last_check_str,) * 6) as cursor:
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\context.py", line 46, in __aexit__
    await self._obj.close()
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\cursor.py", line 72, in close
    await self._execute(self._cursor.close)
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\cursor.py", line 32, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 105, in run
    result = function()
sqlite3.ProgrammingError: Cannot operate on a closed database.
2025-05-20 22:24:38,754 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-20 22:24:48,754 - app.notification - INFO - Starting change tracking cycle
2025-05-20 22:24:48,755 - app.notification - INFO - Starting notification cycle
2025-05-20 22:24:48,756 - app.notification - ERROR - Error in check_test_changes: near "ADN": syntax error
Traceback (most recent call last):
  File "C:\Users\Shuti\TelegramBot\app\notification.py", line 87, in check_test_changes
    async with db_connection.execute('''
               ~~~~~~~~~~~~~~~~~~~~~^^^^
        SELECT t.id, t.test_link, t.date, g.name_group, subj.name, tch.full_name,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<14 lines>...
        GROUP BY t.id, change_type
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ''', (last_check_str,) * 6) as cursor:
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\context.py", line 41, in __aenter__
    self._obj = await self._coro
                ^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 105, in run
    result = function()
sqlite3.OperationalError: near "ADN": syntax error
2025-05-20 22:24:48,760 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-20 22:24:48,761 - app.notification - ERROR - Error in tracker main loop: near "ADN": syntax error
Traceback (most recent call last):
  File "C:\Users\Shuti\TelegramBot\app\notification.py", line 60, in track_changes
    await asyncio.gather(test_task, debt_task)
  File "C:\Users\Shuti\TelegramBot\app\notification.py", line 87, in check_test_changes
    async with db_connection.execute('''
               ~~~~~~~~~~~~~~~~~~~~~^^^^
        SELECT t.id, t.test_link, t.date, g.name_group, subj.name, tch.full_name,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<14 lines>...
        GROUP BY t.id, change_type
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ''', (last_check_str,) * 6) as cursor:
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\context.py", line 41, in __aenter__
    self._obj = await self._coro
                ^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 105, in run
    result = function()
sqlite3.OperationalError: near "ADN": syntax error
2025-05-20 22:24:48,764 - app.notification - ERROR - Error in check_debt_changes: Connection closed
Traceback (most recent call last):
  File "C:\Users\Shuti\TelegramBot\app\notification.py", line 234, in check_debt_changes
    changes = await cursor.fetchall()
              ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\cursor.py", line 68, in fetchall
    return await self._execute(self._cursor.fetchall)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\cursor.py", line 32, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 105, in run
    result = function()
sqlite3.ProgrammingError: Cannot operate on a closed database.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Shuti\TelegramBot\app\notification.py", line 216, in check_debt_changes
    async with db_connection.execute('''
               ~~~~~~~~~~~~~~~~~~~~~^^^^
        SELECT sd.student_id, sd.discipline_id, sd.debt_type_id,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<14 lines>...
        GROUP BY sd.student_id, sd.discipline_id, sd.debt_type_id, change_type
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ''', (last_check_str,) * 6) as cursor:
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\context.py", line 46, in __aexit__
    await self._obj.close()
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\cursor.py", line 72, in close
    await self._execute(self._cursor.close)
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\cursor.py", line 32, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 115, in _execute
    raise ValueError("Connection closed")
ValueError: Connection closed
2025-05-20 22:24:58,767 - app.notification - INFO - Starting notification cycle
2025-05-20 22:24:58,770 - app.notification - INFO - Starting change tracking cycle
2025-05-20 22:24:58,771 - app.notification - ERROR - Error in check_test_changes: near "ADN": syntax error
Traceback (most recent call last):
  File "C:\Users\Shuti\TelegramBot\app\notification.py", line 87, in check_test_changes
    async with db_connection.execute('''
               ~~~~~~~~~~~~~~~~~~~~~^^^^
        SELECT t.id, t.test_link, t.date, g.name_group, subj.name, tch.full_name,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<14 lines>...
        GROUP BY t.id, change_type
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ''', (last_check_str,) * 6) as cursor:
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\context.py", line 41, in __aenter__
    self._obj = await self._coro
                ^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 105, in run
    result = function()
sqlite3.OperationalError: near "ADN": syntax error
2025-05-20 22:24:58,774 - app.notification - ERROR - Error in tracker main loop: near "ADN": syntax error
Traceback (most recent call last):
  File "C:\Users\Shuti\TelegramBot\app\notification.py", line 60, in track_changes
    await asyncio.gather(test_task, debt_task)
  File "C:\Users\Shuti\TelegramBot\app\notification.py", line 87, in check_test_changes
    async with db_connection.execute('''
               ~~~~~~~~~~~~~~~~~~~~~^^^^
        SELECT t.id, t.test_link, t.date, g.name_group, subj.name, tch.full_name,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<14 lines>...
        GROUP BY t.id, change_type
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ''', (last_check_str,) * 6) as cursor:
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\context.py", line 41, in __aenter__
    self._obj = await self._coro
                ^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 105, in run
    result = function()
sqlite3.OperationalError: near "ADN": syntax error
2025-05-20 22:24:58,777 - app.notification - ERROR - Error in check_debt_changes: Cannot operate on a closed database.
Traceback (most recent call last):
  File "C:\Users\Shuti\TelegramBot\app\notification.py", line 216, in check_debt_changes
    async with db_connection.execute('''
               ~~~~~~~~~~~~~~~~~~~~~^^^^
        SELECT sd.student_id, sd.discipline_id, sd.debt_type_id,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<14 lines>...
        GROUP BY sd.student_id, sd.discipline_id, sd.debt_type_id, change_type
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ''', (last_check_str,) * 6) as cursor:
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\context.py", line 46, in __aexit__
    await self._obj.close()
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\cursor.py", line 72, in close
    await self._execute(self._cursor.close)
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\cursor.py", line 32, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 105, in run
    result = function()
sqlite3.ProgrammingError: Cannot operate on a closed database.
2025-05-20 22:24:58,782 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-20 22:25:08,784 - app.notification - INFO - Starting notification cycle
2025-05-20 22:25:08,788 - app.notification - INFO - Starting change tracking cycle
2025-05-20 22:25:08,789 - app.notification - ERROR - Error in check_test_changes: near "ADN": syntax error
Traceback (most recent call last):
  File "C:\Users\Shuti\TelegramBot\app\notification.py", line 87, in check_test_changes
    async with db_connection.execute('''
               ~~~~~~~~~~~~~~~~~~~~~^^^^
        SELECT t.id, t.test_link, t.date, g.name_group, subj.name, tch.full_name,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<14 lines>...
        GROUP BY t.id, change_type
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ''', (last_check_str,) * 6) as cursor:
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\context.py", line 41, in __aenter__
    self._obj = await self._coro
                ^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 105, in run
    result = function()
sqlite3.OperationalError: near "ADN": syntax error
2025-05-20 22:25:08,792 - app.notification - ERROR - Error in tracker main loop: near "ADN": syntax error
Traceback (most recent call last):
  File "C:\Users\Shuti\TelegramBot\app\notification.py", line 60, in track_changes
    await asyncio.gather(test_task, debt_task)
  File "C:\Users\Shuti\TelegramBot\app\notification.py", line 87, in check_test_changes
    async with db_connection.execute('''
               ~~~~~~~~~~~~~~~~~~~~~^^^^
        SELECT t.id, t.test_link, t.date, g.name_group, subj.name, tch.full_name,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<14 lines>...
        GROUP BY t.id, change_type
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ''', (last_check_str,) * 6) as cursor:
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\context.py", line 41, in __aenter__
    self._obj = await self._coro
                ^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 105, in run
    result = function()
sqlite3.OperationalError: near "ADN": syntax error
2025-05-20 22:25:08,795 - app.notification - ERROR - Error in check_debt_changes: Cannot operate on a closed database.
Traceback (most recent call last):
  File "C:\Users\Shuti\TelegramBot\app\notification.py", line 216, in check_debt_changes
    async with db_connection.execute('''
               ~~~~~~~~~~~~~~~~~~~~~^^^^
        SELECT sd.student_id, sd.discipline_id, sd.debt_type_id,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<14 lines>...
        GROUP BY sd.student_id, sd.discipline_id, sd.debt_type_id, change_type
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ''', (last_check_str,) * 6) as cursor:
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\context.py", line 46, in __aexit__
    await self._obj.close()
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\cursor.py", line 72, in close
    await self._execute(self._cursor.close)
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\cursor.py", line 32, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 105, in run
    result = function()
sqlite3.ProgrammingError: Cannot operate on a closed database.
2025-05-20 22:25:08,801 - app.notification - INFO - Notification cycle completed in 0.02s
2025-05-20 22:25:09,305 - aiogram.dispatcher - INFO - Polling stopped
2025-05-20 22:25:09,568 - app.notification - INFO - Notification service stopped
2025-05-20 22:25:09,570 - aiogram.dispatcher - INFO - Polling stopped for bot @pgunoticebot id=7708914926 - '$pgu_notice'
2025-05-20 22:25:09,571 - app.notification - INFO - Database connection closed
2025-05-20 22:25:09,574 - __main__ - INFO - Бот остановлен по запросу пользователя
2025-05-20 22:25:09,574 - __main__ - INFO - Работа бота завершена
2025-05-20 22:25:18,896 - __main__ - INFO - Бот запускается
2025-05-20 22:25:19,089 - app.db_manager - INFO - Database connection established
2025-05-20 22:25:19,276 - aiogram.dispatcher - INFO - Start polling
2025-05-20 22:25:19,279 - app.notification - INFO - Starting notification cycle
2025-05-20 22:25:19,280 - app.notification - INFO - Starting change tracking cycle
2025-05-20 22:25:19,297 - app.notification - INFO - Change tracking completed in 0.02s
2025-05-20 22:25:19,302 - app.notification - INFO - Notification cycle completed in 0.02s
2025-05-20 22:25:19,338 - aiogram.dispatcher - INFO - Run polling for bot @pgunoticebot id=7708914926 - '$pgu_notice'
2025-05-20 22:25:24,307 - app.notification - INFO - Starting change tracking cycle
2025-05-20 22:25:24,310 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 22:25:29,315 - app.notification - INFO - Starting notification cycle
2025-05-20 22:25:29,318 - app.notification - INFO - Starting change tracking cycle
2025-05-20 22:25:29,320 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-20 22:25:29,322 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 22:25:34,338 - app.notification - INFO - Starting change tracking cycle
2025-05-20 22:25:34,342 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 22:25:39,329 - app.notification - INFO - Starting notification cycle
2025-05-20 22:25:39,332 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-20 22:25:39,347 - app.notification - INFO - Starting change tracking cycle
2025-05-20 22:25:39,349 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 22:25:39,956 - aiogram.event - INFO - Update id=804788434 is handled. Duration 282 ms by bot id=7708914926
2025-05-20 22:25:44,362 - app.notification - INFO - Starting change tracking cycle
2025-05-20 22:25:44,366 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 22:25:48,198 - aiogram.event - INFO - Update id=804788435 is handled. Duration 203 ms by bot id=7708914926
2025-05-20 22:25:49,344 - app.notification - INFO - Starting notification cycle
2025-05-20 22:25:49,350 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-20 22:25:49,372 - app.notification - INFO - Starting change tracking cycle
2025-05-20 22:25:49,377 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 22:25:50,073 - aiogram.event - INFO - Update id=804788436 is handled. Duration 168 ms by bot id=7708914926
2025-05-20 22:25:54,382 - app.notification - INFO - Starting change tracking cycle
2025-05-20 22:25:54,386 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 22:25:56,835 - aiogram.event - INFO - Update id=804788437 is handled. Duration 190 ms by bot id=7708914926
2025-05-20 22:25:59,359 - app.notification - INFO - Starting notification cycle
2025-05-20 22:25:59,364 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-20 22:25:59,391 - app.notification - INFO - Starting change tracking cycle
2025-05-20 22:25:59,397 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 22:25:59,760 - aiogram.event - INFO - Update id=804788438 is handled. Duration 136 ms by bot id=7708914926
2025-05-20 22:26:01,183 - aiogram.event - INFO - Update id=804788439 is handled. Duration 140 ms by bot id=7708914926
2025-05-20 22:26:04,414 - app.notification - INFO - Starting change tracking cycle
2025-05-20 22:26:04,417 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 22:26:04,780 - aiogram.event - INFO - Update id=804788440 is handled. Duration 217 ms by bot id=7708914926
2025-05-20 22:26:09,210 - aiogram.event - INFO - Update id=804788441 is handled. Duration 175 ms by bot id=7708914926
2025-05-20 22:26:09,375 - app.notification - INFO - Starting notification cycle
2025-05-20 22:26:09,382 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-20 22:26:09,424 - app.notification - INFO - Starting change tracking cycle
2025-05-20 22:26:09,429 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 22:26:12,010 - aiogram.event - INFO - Update id=804788442 is handled. Duration 237 ms by bot id=7708914926
2025-05-20 22:26:14,442 - app.notification - INFO - Starting change tracking cycle
2025-05-20 22:26:14,446 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 22:26:14,601 - aiogram.event - INFO - Update id=804788443 is handled. Duration 405 ms by bot id=7708914926
2025-05-20 22:26:15,976 - aiogram.event - INFO - Update id=804788444 is handled. Duration 190 ms by bot id=7708914926
2025-05-20 22:26:17,845 - aiogram.event - INFO - Update id=804788445 is handled. Duration 136 ms by bot id=7708914926
2025-05-20 22:26:19,399 - app.notification - INFO - Starting notification cycle
2025-05-20 22:26:19,404 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-20 22:26:19,459 - app.notification - INFO - Starting change tracking cycle
2025-05-20 22:26:19,463 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 22:26:24,476 - app.notification - INFO - Starting change tracking cycle
2025-05-20 22:26:24,480 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 22:26:25,278 - aiogram.event - INFO - Update id=804788446 is handled. Duration 165 ms by bot id=7708914926
2025-05-20 22:26:29,416 - app.notification - INFO - Starting notification cycle
2025-05-20 22:26:29,422 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-20 22:26:29,493 - app.notification - INFO - Starting change tracking cycle
2025-05-20 22:26:29,497 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 22:26:34,504 - app.notification - INFO - Starting change tracking cycle
2025-05-20 22:26:34,507 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 22:26:39,435 - app.notification - INFO - Starting notification cycle
2025-05-20 22:26:39,439 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-20 22:26:39,521 - app.notification - INFO - Starting change tracking cycle
2025-05-20 22:26:39,523 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 22:26:44,537 - app.notification - INFO - Starting change tracking cycle
2025-05-20 22:26:44,541 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 22:26:49,312 - aiogram.dispatcher - INFO - Polling stopped
2025-05-20 22:26:49,448 - app.notification - INFO - Starting notification cycle
2025-05-20 22:26:49,451 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-20 22:26:49,552 - app.notification - INFO - Starting change tracking cycle
2025-05-20 22:26:49,554 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 22:26:49,567 - app.notification - INFO - Notification service stopped
2025-05-20 22:26:49,567 - aiogram.dispatcher - INFO - Polling stopped for bot @pgunoticebot id=7708914926 - '$pgu_notice'
2025-05-20 22:26:49,568 - app.notification - INFO - Database connection closed
2025-05-20 22:26:49,570 - __main__ - INFO - Бот остановлен по запросу пользователя
2025-05-20 22:26:49,570 - __main__ - INFO - Работа бота завершена
2025-05-20 22:37:35,774 - __main__ - INFO - Бот запускается
2025-05-20 22:37:35,999 - app.db_manager - INFO - Database connection established
2025-05-20 22:37:36,186 - app.notification - INFO - ChangeTracker initialized, last_check_time: 2025-05-20 22:37:36.186326
2025-05-20 22:37:36,196 - aiogram.dispatcher - INFO - Start polling
2025-05-20 22:37:36,198 - app.notification - INFO - Starting notification cycle
2025-05-20 22:37:36,202 - app.notification - INFO - Starting change tracking cycle
2025-05-20 22:37:36,203 - app.notification - ERROR - Error in check_test_changes: no such table: tests
Traceback (most recent call last):
  File "C:\Users\Shuti\TelegramBot\app\notification.py", line 91, in check_test_changes
    async with db_connection.execute('''
               ~~~~~~~~~~~~~~~~~~~~~^^^^
        SELECT t.id, t.test_link, t.date, g.name_group, subj.name, tch.full_name,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<14 lines>...
        GROUP BY t.id, change_type
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ''', (last_check_str,) * 6) as cursor:
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\context.py", line 41, in __aenter__
    self._obj = await self._coro
                ^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 105, in run
    result = function()
sqlite3.OperationalError: no such table: tests
2025-05-20 22:37:36,207 - app.notification - ERROR - Error in tracker main loop: no such table: tests
Traceback (most recent call last):
  File "C:\Users\Shuti\TelegramBot\app\notification.py", line 62, in track_changes
    await check_test_changes(conn, bot, tracker, semaphore, current_check_time)
  File "C:\Users\Shuti\TelegramBot\app\notification.py", line 91, in check_test_changes
    async with db_connection.execute('''
               ~~~~~~~~~~~~~~~~~~~~~^^^^
        SELECT t.id, t.test_link, t.date, g.name_group, subj.name, tch.full_name,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<14 lines>...
        GROUP BY t.id, change_type
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ''', (last_check_str,) * 6) as cursor:
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\context.py", line 41, in __aenter__
    self._obj = await self._coro
                ^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 105, in run
    result = function()
sqlite3.OperationalError: no such table: tests
2025-05-20 22:37:36,216 - app.notification - ERROR - Error in notification cycle: no such table: news
Traceback (most recent call last):
  File "C:\Users\Shuti\TelegramBot\app\notification.py", line 454, in notify_users
    await process_news_notifications(db_connection, bot, BATCH_SIZE, DELAY_BETWEEN_BATCHES)
  File "C:\Users\Shuti\TelegramBot\app\notification.py", line 482, in process_news_notifications
    async with db_connection.execute('''
               ~~~~~~~~~~~~~~~~~~~~~^^^^
        SELECT n.id, n.title, n.description, n.for_all_groups, n.date, n.place
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
        ORDER BY n.date DESC
        ^^^^^^^^^^^^^^^^^^^^
    ''') as cursor:
    ^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\context.py", line 41, in __aenter__
    self._obj = await self._coro
                ^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 105, in run
    result = function()
sqlite3.OperationalError: no such table: news
2025-05-20 22:37:36,256 - aiogram.dispatcher - INFO - Run polling for bot @pgunoticebot id=7708914926 - '$pgu_notice'
2025-05-20 22:37:42,606 - aiogram.dispatcher - INFO - Polling stopped
2025-05-20 22:37:42,607 - app.notification - INFO - Notification service stopped
2025-05-20 22:37:42,609 - app.notification - INFO - Database connection closed
2025-05-20 22:37:42,862 - app.db_manager - INFO - Database connection closed
2025-05-20 22:37:42,864 - __main__ - INFO - Бот успешно завершил работу
2025-05-20 22:37:42,865 - aiogram.dispatcher - INFO - Polling stopped for bot @pgunoticebot id=7708914926 - '$pgu_notice'
2025-05-20 22:37:42,868 - __main__ - INFO - Бот остановлен по запросу пользователя
2025-05-20 22:37:42,870 - __main__ - INFO - Работа бота завершена
2025-05-20 23:31:11,440 - __main__ - INFO - Бот запускается
2025-05-20 23:31:11,646 - app.db_manager - INFO - Database connection established
2025-05-20 23:31:11,844 - app.notification - INFO - ChangeTracker initialized, last_check_time: 2025-05-20 23:31:11.844799
2025-05-20 23:31:11,846 - aiogram.dispatcher - INFO - Start polling
2025-05-20 23:31:11,848 - app.notification - INFO - Starting notification cycle
2025-05-20 23:31:11,853 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:31:11,867 - app.notification - INFO - Change tracking completed in 0.01s
2025-05-20 23:31:11,873 - app.notification - INFO - Notification cycle completed in 0.03s
2025-05-20 23:31:11,907 - aiogram.dispatcher - INFO - Run polling for bot @pgunoticebot id=7708914926 - '$pgu_notice'
2025-05-20 23:31:16,881 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:31:16,883 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:31:21,893 - app.notification - INFO - Starting notification cycle
2025-05-20 23:31:21,898 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-20 23:31:21,899 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:31:21,905 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:31:22,970 - aiogram.event - INFO - Update id=804788448 is handled. Duration 293 ms by bot id=7708914926
2025-05-20 23:31:24,526 - aiogram.event - INFO - Update id=804788449 is handled. Duration 107 ms by bot id=7708914926
2025-05-20 23:31:26,606 - aiogram.event - INFO - Update id=804788450 is handled. Duration 203 ms by bot id=7708914926
2025-05-20 23:31:26,911 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:31:26,913 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:31:31,917 - app.notification - INFO - Starting notification cycle
2025-05-20 23:31:31,921 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-20 23:31:31,923 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:31:31,924 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:31:36,939 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:31:36,942 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:31:41,938 - app.notification - INFO - Starting notification cycle
2025-05-20 23:31:41,945 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-20 23:31:41,947 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:31:41,950 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:31:46,969 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:31:46,972 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:31:51,947 - app.notification - INFO - Starting notification cycle
2025-05-20 23:31:51,950 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-20 23:31:51,981 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:31:51,984 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:31:57,002 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:31:57,006 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:32:01,954 - app.notification - INFO - Starting notification cycle
2025-05-20 23:32:01,958 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-20 23:32:02,024 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:32:02,029 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:32:05,024 - aiogram.event - INFO - Update id=804788451 is handled. Duration 126 ms by bot id=7708914926
2025-05-20 23:32:06,829 - aiogram.event - INFO - Update id=804788452 is handled. Duration 91 ms by bot id=7708914926
2025-05-20 23:32:07,037 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:32:07,040 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:32:10,460 - aiogram.event - INFO - Update id=804788453 is handled. Duration 103 ms by bot id=7708914926
2025-05-20 23:32:11,960 - app.notification - INFO - Starting notification cycle
2025-05-20 23:32:11,966 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-20 23:32:12,055 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:32:12,059 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:32:12,704 - aiogram.event - INFO - Update id=804788454 is handled. Duration 342 ms by bot id=7708914926
2025-05-20 23:32:16,941 - aiogram.event - INFO - Update id=804788455 is handled. Duration 104 ms by bot id=7708914926
2025-05-20 23:32:17,073 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:32:17,077 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:32:18,118 - aiogram.event - INFO - Update id=804788456 is handled. Duration 131 ms by bot id=7708914926
2025-05-20 23:32:19,530 - aiogram.event - INFO - Update id=804788457 is handled. Duration 147 ms by bot id=7708914926
2025-05-20 23:32:21,977 - app.notification - INFO - Starting notification cycle
2025-05-20 23:32:21,984 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-20 23:32:22,086 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:32:22,091 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:32:22,511 - aiogram.event - INFO - Update id=804788458 is handled. Duration 110 ms by bot id=7708914926
2025-05-20 23:32:24,276 - aiogram.event - INFO - Update id=804788459 is handled. Duration 149 ms by bot id=7708914926
2025-05-20 23:32:26,443 - aiogram.event - INFO - Update id=804788460 is handled. Duration 323 ms by bot id=7708914926
2025-05-20 23:32:27,103 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:32:27,107 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:32:28,459 - aiogram.event - INFO - Update id=804788461 is handled. Duration 283 ms by bot id=7708914926
2025-05-20 23:32:29,702 - aiogram.event - INFO - Update id=804788462 is handled. Duration 211 ms by bot id=7708914926
2025-05-20 23:32:31,987 - app.notification - INFO - Starting notification cycle
2025-05-20 23:32:31,992 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-20 23:32:32,118 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:32:32,122 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:32:32,455 - aiogram.event - INFO - Update id=804788463 is handled. Duration 141 ms by bot id=7708914926
2025-05-20 23:32:36,606 - aiogram.event - INFO - Update id=804788464 is handled. Duration 211 ms by bot id=7708914926
2025-05-20 23:32:37,137 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:32:37,141 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:32:41,999 - app.notification - INFO - Starting notification cycle
2025-05-20 23:32:42,155 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:32:42,159 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:32:42,228 - app.notification - INFO - Test reminder 1 sent to 1 users
2025-05-20 23:32:42,232 - app.notification - INFO - Notification cycle completed in 0.23s
2025-05-20 23:32:47,169 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:32:47,173 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:32:50,880 - aiogram.event - INFO - Update id=804788465 is handled. Duration 102 ms by bot id=7708914926
2025-05-20 23:32:52,188 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:32:52,192 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:32:52,246 - app.notification - INFO - Starting notification cycle
2025-05-20 23:32:52,253 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-20 23:32:57,213 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:32:57,216 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:32:59,428 - aiogram.event - INFO - Update id=804788466 is handled. Duration 211 ms by bot id=7708914926
2025-05-20 23:33:01,021 - aiogram.event - INFO - Update id=804788467 is handled. Duration 118 ms by bot id=7708914926
2025-05-20 23:33:02,229 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:33:02,233 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:33:02,267 - app.notification - INFO - Starting notification cycle
2025-05-20 23:33:02,273 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-20 23:33:07,241 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:33:07,243 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:33:12,249 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:33:12,252 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:33:12,281 - app.notification - INFO - Starting notification cycle
2025-05-20 23:33:12,286 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-20 23:33:17,262 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:33:17,264 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:33:18,713 - aiogram.event - INFO - Update id=804788468 is handled. Duration 112 ms by bot id=7708914926
2025-05-20 23:33:21,522 - aiogram.event - INFO - Update id=804788469 is handled. Duration 213 ms by bot id=7708914926
2025-05-20 23:33:22,283 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:33:22,287 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:33:22,288 - app.notification - INFO - Starting notification cycle
2025-05-20 23:33:22,293 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-20 23:33:22,869 - aiogram.event - INFO - Update id=804788470 is handled. Duration 119 ms by bot id=7708914926
2025-05-20 23:33:25,402 - aiogram.event - INFO - Update id=804788471 is handled. Duration 327 ms by bot id=7708914926
2025-05-20 23:33:27,294 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:33:27,297 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:33:27,401 - aiogram.event - INFO - Update id=804788472 is handled. Duration 206 ms by bot id=7708914926
2025-05-20 23:33:28,506 - aiogram.event - INFO - Update id=804788473 is handled. Duration 153 ms by bot id=7708914926
2025-05-20 23:33:30,594 - aiogram.event - INFO - Update id=804788474 is handled. Duration 117 ms by bot id=7708914926
2025-05-20 23:33:32,308 - app.notification - INFO - Starting notification cycle
2025-05-20 23:33:32,313 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-20 23:33:32,314 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:33:32,317 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:33:36,181 - aiogram.event - INFO - Update id=804788475 is handled. Duration 218 ms by bot id=7708914926
2025-05-20 23:33:37,325 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:33:37,329 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:33:42,318 - app.notification - INFO - Starting notification cycle
2025-05-20 23:33:42,322 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-20 23:33:42,340 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:33:42,341 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:33:45,937 - aiogram.event - INFO - Update id=804788476 is handled. Duration 94 ms by bot id=7708914926
2025-05-20 23:33:47,354 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:33:47,358 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:33:52,337 - app.notification - INFO - Starting notification cycle
2025-05-20 23:33:52,340 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-20 23:33:52,373 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:33:52,375 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:33:55,321 - aiogram.event - INFO - Update id=804788477 is handled. Duration 163 ms by bot id=7708914926
2025-05-20 23:33:57,398 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:33:57,401 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:34:01,695 - aiogram.event - INFO - Update id=804788478 is handled. Duration 216 ms by bot id=7708914926
2025-05-20 23:34:02,349 - app.notification - INFO - Starting notification cycle
2025-05-20 23:34:02,355 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-20 23:34:02,411 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:34:02,414 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:34:03,772 - aiogram.event - INFO - Update id=804788479 is handled. Duration 150 ms by bot id=7708914926
2025-05-20 23:34:07,428 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:34:07,431 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:34:12,361 - app.notification - INFO - Starting notification cycle
2025-05-20 23:34:12,369 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-20 23:34:12,454 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:34:12,458 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:34:17,481 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:34:17,482 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:34:22,379 - app.notification - INFO - Starting notification cycle
2025-05-20 23:34:22,385 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-20 23:34:22,502 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:34:22,506 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:34:27,523 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:34:27,527 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:34:30,761 - aiogram.event - INFO - Update id=804788480 is handled. Duration 186 ms by bot id=7708914926
2025-05-20 23:34:32,401 - app.notification - INFO - Starting notification cycle
2025-05-20 23:34:32,407 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-20 23:34:32,538 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:34:32,542 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:34:35,563 - aiogram.event - INFO - Update id=804788481 is handled. Duration 253 ms by bot id=7708914926
2025-05-20 23:34:37,557 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:34:37,559 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:34:38,193 - aiogram.event - INFO - Update id=804788482 is handled. Duration 217 ms by bot id=7708914926
2025-05-20 23:34:39,860 - aiogram.event - INFO - Update id=804788483 is handled. Duration 131 ms by bot id=7708914926
2025-05-20 23:34:42,167 - aiogram.event - INFO - Update id=804788484 is handled. Duration 323 ms by bot id=7708914926
2025-05-20 23:34:42,410 - app.notification - INFO - Starting notification cycle
2025-05-20 23:34:42,416 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-20 23:34:42,579 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:34:42,583 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:34:44,614 - aiogram.event - INFO - Update id=804788485 is handled. Duration 165 ms by bot id=7708914926
2025-05-20 23:34:47,260 - aiogram.event - INFO - Update id=804788486 is handled. Duration 149 ms by bot id=7708914926
2025-05-20 23:34:47,591 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:34:47,594 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:34:52,421 - app.notification - INFO - Starting notification cycle
2025-05-20 23:34:52,460 - aiogram.event - INFO - Update id=804788487 is handled. Duration 141 ms by bot id=7708914926
2025-05-20 23:34:52,614 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:34:52,617 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:34:52,833 - app.notification - INFO - Debt reminders sent to 1 users
2025-05-20 23:34:52,835 - app.notification - INFO - Notification cycle completed in 0.41s
2025-05-20 23:34:57,633 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:34:57,636 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:35:02,593 - aiogram.event - INFO - Update id=804788488 is handled. Duration 135 ms by bot id=7708914926
2025-05-20 23:35:02,648 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:35:02,652 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:35:02,847 - app.notification - INFO - Starting notification cycle
2025-05-20 23:35:02,852 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-20 23:35:06,034 - aiogram.event - INFO - Update id=804788489 is handled. Duration 134 ms by bot id=7708914926
2025-05-20 23:35:07,664 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:35:07,667 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:35:08,032 - aiogram.event - INFO - Update id=804788490 is handled. Duration 170 ms by bot id=7708914926
2025-05-20 23:35:09,751 - aiogram.event - INFO - Update id=804788491 is handled. Duration 123 ms by bot id=7708914926
2025-05-20 23:35:12,684 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:35:12,687 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:35:12,869 - app.notification - INFO - Starting notification cycle
2025-05-20 23:35:12,876 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-20 23:35:17,701 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:35:17,703 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:35:22,719 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:35:22,723 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:35:22,884 - app.notification - INFO - Starting notification cycle
2025-05-20 23:35:22,891 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-20 23:35:27,743 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:35:27,747 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:35:29,159 - aiogram.event - INFO - Update id=804788492 is handled. Duration 145 ms by bot id=7708914926
2025-05-20 23:35:32,759 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:35:32,761 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:35:32,902 - app.notification - INFO - Starting notification cycle
2025-05-20 23:35:32,908 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-20 23:35:34,492 - aiogram.event - INFO - Update id=804788493 is handled. Duration 236 ms by bot id=7708914926
2025-05-20 23:35:37,769 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:35:37,773 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:35:42,787 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:35:42,790 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:35:42,917 - app.notification - INFO - Starting notification cycle
2025-05-20 23:35:42,924 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-20 23:35:47,800 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:35:47,804 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:35:48,184 - aiogram.event - INFO - Update id=804788494 is handled. Duration 147 ms by bot id=7708914926
2025-05-20 23:35:50,137 - aiogram.event - INFO - Update id=804788495 is handled. Duration 588 ms by bot id=7708914926
2025-05-20 23:35:52,819 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:35:52,821 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:35:52,932 - app.notification - INFO - Starting notification cycle
2025-05-20 23:35:52,939 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-20 23:35:54,404 - aiogram.event - INFO - Update id=804788496 is handled. Duration 183 ms by bot id=7708914926
2025-05-20 23:35:56,398 - aiogram.event - INFO - Update id=804788497 is handled. Duration 170 ms by bot id=7708914926
2025-05-20 23:35:57,835 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:35:57,839 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:36:02,854 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:36:02,856 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:36:02,944 - app.notification - INFO - Starting notification cycle
2025-05-20 23:36:02,951 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-20 23:36:03,187 - aiogram.event - INFO - Update id=804788498 is handled. Duration 143 ms by bot id=7708914926
2025-05-20 23:36:07,875 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:36:07,879 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:36:12,895 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:36:12,898 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:36:12,962 - app.notification - INFO - Starting notification cycle
2025-05-20 23:36:12,967 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-20 23:36:17,168 - aiogram.event - INFO - Update id=804788499 is handled. Duration 133 ms by bot id=7708914926
2025-05-20 23:36:17,916 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:36:17,920 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:36:22,363 - aiogram.event - INFO - Update id=804788500 is handled. Duration 124 ms by bot id=7708914926
2025-05-20 23:36:22,934 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:36:22,938 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:36:22,976 - app.notification - INFO - Starting notification cycle
2025-05-20 23:36:22,983 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-20 23:36:25,090 - aiogram.event - INFO - Update id=804788501 is handled. Duration 120 ms by bot id=7708914926
2025-05-20 23:36:27,106 - aiogram.event - INFO - Update id=804788502 is handled. Duration 144 ms by bot id=7708914926
2025-05-20 23:36:27,948 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:36:27,952 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:36:32,959 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:36:32,979 - aiogram.dispatcher - INFO - Polling stopped
2025-05-20 23:36:32,980 - app.notification - INFO - Notification service stopped
2025-05-20 23:36:32,982 - app.notification - INFO - Database connection closed
2025-05-20 23:36:33,249 - app.db_manager - INFO - Database connection closed
2025-05-20 23:36:33,251 - __main__ - INFO - Бот успешно завершил работу
2025-05-20 23:36:33,252 - aiogram.dispatcher - INFO - Polling stopped for bot @pgunoticebot id=7708914926 - '$pgu_notice'
2025-05-20 23:36:33,255 - __main__ - INFO - Бот остановлен по запросу пользователя
2025-05-20 23:36:33,262 - __main__ - INFO - Работа бота завершена
2025-05-20 23:42:54,027 - __main__ - INFO - Бот запускается
2025-05-20 23:42:54,255 - app.db_manager - INFO - Database connection established
2025-05-20 23:42:54,491 - app.notification - INFO - ChangeTracker initialized, last_check_time: 2025-05-20 23:42:54.491399
2025-05-20 23:42:54,492 - aiogram.dispatcher - INFO - Start polling
2025-05-20 23:42:54,494 - app.notification - INFO - Starting notification cycle
2025-05-20 23:42:54,507 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:42:54,515 - app.notification - ERROR - Error in check_debt_changes: no such column: sd.id
Traceback (most recent call last):
  File "C:\Users\Shuti\TelegramBot\app\notification.py", line 220, in check_debt_changes
    async with db_connection.execute('''
               ~~~~~~~~~~~~~~~~~~~~~^^^^
        SELECT sd.id, sd.student_id, sd.discipline_id, sd.debt_type_id,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<14 lines>...
        GROUP BY sd.id, change_type
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ''', (last_check_str,) * 6) as cursor:
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\context.py", line 41, in __aenter__
    self._obj = await self._coro
                ^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 105, in run
    result = function()
sqlite3.OperationalError: no such column: sd.id
2025-05-20 23:42:54,524 - app.notification - ERROR - Error in tracker main loop: no such column: sd.id
Traceback (most recent call last):
  File "C:\Users\Shuti\TelegramBot\app\notification.py", line 63, in track_changes
    await check_debt_changes(conn, bot, tracker, semaphore, current_check_time)
  File "C:\Users\Shuti\TelegramBot\app\notification.py", line 220, in check_debt_changes
    async with db_connection.execute('''
               ~~~~~~~~~~~~~~~~~~~~~^^^^
        SELECT sd.id, sd.student_id, sd.discipline_id, sd.debt_type_id,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<14 lines>...
        GROUP BY sd.id, change_type
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ''', (last_check_str,) * 6) as cursor:
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\context.py", line 41, in __aenter__
    self._obj = await self._coro
                ^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 105, in run
    result = function()
sqlite3.OperationalError: no such column: sd.id
2025-05-20 23:42:54,578 - aiogram.dispatcher - INFO - Run polling for bot @pgunoticebot id=7708914926 - '$pgu_notice'
2025-05-20 23:42:55,056 - app.notification - INFO - Test reminder 2 sent to 1 users
2025-05-20 23:42:55,060 - app.notification - INFO - Notification cycle completed in 0.57s
2025-05-20 23:43:04,537 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:43:04,539 - app.notification - ERROR - Error in check_debt_changes: no such column: sd.id
Traceback (most recent call last):
  File "C:\Users\Shuti\TelegramBot\app\notification.py", line 220, in check_debt_changes
    async with db_connection.execute('''
               ~~~~~~~~~~~~~~~~~~~~~^^^^
        SELECT sd.id, sd.student_id, sd.discipline_id, sd.debt_type_id,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<14 lines>...
        GROUP BY sd.id, change_type
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ''', (last_check_str,) * 6) as cursor:
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\context.py", line 41, in __aenter__
    self._obj = await self._coro
                ^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 105, in run
    result = function()
sqlite3.OperationalError: no such column: sd.id
2025-05-20 23:43:04,542 - app.notification - ERROR - Error in tracker main loop: no such column: sd.id
Traceback (most recent call last):
  File "C:\Users\Shuti\TelegramBot\app\notification.py", line 63, in track_changes
    await check_debt_changes(conn, bot, tracker, semaphore, current_check_time)
  File "C:\Users\Shuti\TelegramBot\app\notification.py", line 220, in check_debt_changes
    async with db_connection.execute('''
               ~~~~~~~~~~~~~~~~~~~~~^^^^
        SELECT sd.id, sd.student_id, sd.discipline_id, sd.debt_type_id,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<14 lines>...
        GROUP BY sd.id, change_type
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ''', (last_check_str,) * 6) as cursor:
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\context.py", line 41, in __aenter__
    self._obj = await self._coro
                ^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 105, in run
    result = function()
sqlite3.OperationalError: no such column: sd.id
2025-05-20 23:43:05,069 - app.notification - INFO - Starting notification cycle
2025-05-20 23:43:05,072 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-20 23:43:09,111 - aiogram.event - INFO - Update id=804788503 is handled. Duration 130 ms by bot id=7708914926
2025-05-20 23:43:10,066 - aiogram.event - INFO - Update id=804788504 is handled. Duration 112 ms by bot id=7708914926
2025-05-20 23:43:14,557 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:43:14,559 - app.notification - ERROR - Error in check_debt_changes: no such column: sd.id
Traceback (most recent call last):
  File "C:\Users\Shuti\TelegramBot\app\notification.py", line 220, in check_debt_changes
    async with db_connection.execute('''
               ~~~~~~~~~~~~~~~~~~~~~^^^^
        SELECT sd.id, sd.student_id, sd.discipline_id, sd.debt_type_id,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<14 lines>...
        GROUP BY sd.id, change_type
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ''', (last_check_str,) * 6) as cursor:
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\context.py", line 41, in __aenter__
    self._obj = await self._coro
                ^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 105, in run
    result = function()
sqlite3.OperationalError: no such column: sd.id
2025-05-20 23:43:14,561 - app.notification - ERROR - Error in tracker main loop: no such column: sd.id
Traceback (most recent call last):
  File "C:\Users\Shuti\TelegramBot\app\notification.py", line 63, in track_changes
    await check_debt_changes(conn, bot, tracker, semaphore, current_check_time)
  File "C:\Users\Shuti\TelegramBot\app\notification.py", line 220, in check_debt_changes
    async with db_connection.execute('''
               ~~~~~~~~~~~~~~~~~~~~~^^^^
        SELECT sd.id, sd.student_id, sd.discipline_id, sd.debt_type_id,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<14 lines>...
        GROUP BY sd.id, change_type
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ''', (last_check_str,) * 6) as cursor:
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\context.py", line 41, in __aenter__
    self._obj = await self._coro
                ^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 105, in run
    result = function()
sqlite3.OperationalError: no such column: sd.id
2025-05-20 23:43:15,083 - app.notification - INFO - Starting notification cycle
2025-05-20 23:43:15,086 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-20 23:43:19,099 - aiogram.dispatcher - INFO - Polling stopped
2025-05-20 23:43:19,100 - app.notification - INFO - Notification service stopped
2025-05-20 23:43:19,101 - app.notification - INFO - Database connection closed
2025-05-20 23:43:19,368 - app.db_manager - INFO - Database connection closed
2025-05-20 23:43:19,370 - __main__ - INFO - Бот успешно завершил работу
2025-05-20 23:43:19,371 - aiogram.dispatcher - INFO - Polling stopped for bot @pgunoticebot id=7708914926 - '$pgu_notice'
2025-05-20 23:43:19,374 - __main__ - INFO - Бот остановлен по запросу пользователя
2025-05-20 23:43:19,375 - __main__ - INFO - Работа бота завершена
2025-05-20 23:45:55,609 - __main__ - INFO - Бот запускается
2025-05-20 23:45:55,796 - app.db_manager - INFO - Database connection established
2025-05-20 23:45:56,031 - app.notification - INFO - ChangeTracker initialized, last_check_time: 2025-05-20 23:45:56.031420
2025-05-20 23:45:56,032 - aiogram.dispatcher - INFO - Start polling
2025-05-20 23:45:56,033 - app.notification - INFO - Starting notification cycle
2025-05-20 23:45:56,042 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-20 23:45:56,043 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:45:56,047 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:45:56,105 - aiogram.dispatcher - INFO - Run polling for bot @pgunoticebot id=7708914926 - '$pgu_notice'
2025-05-20 23:46:01,069 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:46:01,073 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:46:06,047 - app.notification - INFO - Starting notification cycle
2025-05-20 23:46:06,051 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-20 23:46:06,082 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:46:06,086 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:46:09,452 - aiogram.event - INFO - Update id=804788505 is handled. Duration 268 ms by bot id=7708914926
2025-05-20 23:46:10,555 - aiogram.event - INFO - Update id=804788506 is handled. Duration 156 ms by bot id=7708914926
2025-05-20 23:46:11,102 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:46:11,106 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:46:16,035 - aiogram.event - INFO - Update id=804788507 is handled. Duration 126 ms by bot id=7708914926
2025-05-20 23:46:16,064 - app.notification - INFO - Starting notification cycle
2025-05-20 23:46:16,071 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-20 23:46:16,121 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:46:16,125 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:46:17,528 - aiogram.event - INFO - Update id=804788508 is handled. Duration 143 ms by bot id=7708914926
2025-05-20 23:46:20,709 - aiogram.event - INFO - Update id=804788509 is handled. Duration 170 ms by bot id=7708914926
2025-05-20 23:46:21,136 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:46:21,140 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:46:23,708 - aiogram.event - INFO - Update id=804788510 is handled. Duration 124 ms by bot id=7708914926
2025-05-20 23:46:25,064 - aiogram.event - INFO - Update id=804788511 is handled. Duration 240 ms by bot id=7708914926
2025-05-20 23:46:26,083 - app.notification - INFO - Starting notification cycle
2025-05-20 23:46:26,090 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-20 23:46:26,153 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:46:26,156 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:46:28,770 - aiogram.event - INFO - Update id=804788512 is handled. Duration 137 ms by bot id=7708914926
2025-05-20 23:46:31,167 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:46:31,172 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:46:32,556 - aiogram.event - INFO - Update id=804788513 is handled. Duration 161 ms by bot id=7708914926
2025-05-20 23:46:35,871 - aiogram.event - INFO - Update id=804788514 is handled. Duration 131 ms by bot id=7708914926
2025-05-20 23:46:36,092 - app.notification - INFO - Starting notification cycle
2025-05-20 23:46:36,098 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-20 23:46:36,190 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:46:36,194 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:46:41,214 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:46:41,217 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:46:46,108 - app.notification - INFO - Starting notification cycle
2025-05-20 23:46:46,115 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-20 23:46:46,226 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:46:46,230 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:46:50,297 - aiogram.event - INFO - Update id=804788515 is handled. Duration 152 ms by bot id=7708914926
2025-05-20 23:46:51,250 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:46:51,254 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:46:55,491 - aiogram.event - INFO - Update id=804788516 is handled. Duration 170 ms by bot id=7708914926
2025-05-20 23:46:56,126 - app.notification - INFO - Starting notification cycle
2025-05-20 23:46:56,134 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-20 23:46:56,264 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:46:56,268 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:47:01,138 - aiogram.event - INFO - Update id=804788517 is handled. Duration 157 ms by bot id=7708914926
2025-05-20 23:47:01,286 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:47:01,290 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:47:06,140 - app.notification - INFO - Starting notification cycle
2025-05-20 23:47:06,148 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-20 23:47:06,300 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:47:06,304 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:47:08,898 - aiogram.event - INFO - Update id=804788518 is handled. Duration 144 ms by bot id=7708914926
2025-05-20 23:47:11,318 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:47:11,321 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:47:13,328 - aiogram.event - INFO - Update id=804788519 is handled. Duration 294 ms by bot id=7708914926
2025-05-20 23:47:16,156 - app.notification - INFO - Starting notification cycle
2025-05-20 23:47:16,160 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-20 23:47:16,330 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:47:16,334 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:47:18,827 - aiogram.event - INFO - Update id=804788520 is handled. Duration 129 ms by bot id=7708914926
2025-05-20 23:47:21,348 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:47:21,353 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:47:26,169 - app.notification - INFO - Starting notification cycle
2025-05-20 23:47:26,173 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-20 23:47:26,374 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:47:26,377 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:47:31,391 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:47:31,395 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:47:36,186 - app.notification - INFO - Starting notification cycle
2025-05-20 23:47:36,190 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-20 23:47:36,406 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:47:36,410 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:47:41,425 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:47:41,429 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:47:46,201 - app.notification - INFO - Starting notification cycle
2025-05-20 23:47:46,207 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-20 23:47:46,440 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:47:46,444 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:47:51,456 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:47:51,462 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:47:56,215 - app.notification - INFO - Starting notification cycle
2025-05-20 23:47:56,220 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-20 23:47:56,471 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:47:56,474 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:48:01,486 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:48:01,489 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:48:06,229 - app.notification - INFO - Starting notification cycle
2025-05-20 23:48:06,232 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-20 23:48:06,499 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:48:06,502 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:48:11,516 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:48:11,519 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:48:16,242 - app.notification - INFO - Starting notification cycle
2025-05-20 23:48:16,247 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-20 23:48:16,533 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:48:16,536 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:48:21,547 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:48:21,550 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:48:26,258 - app.notification - INFO - Starting notification cycle
2025-05-20 23:48:26,263 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-20 23:48:26,565 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:48:26,570 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:48:31,579 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:48:31,583 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:48:36,272 - app.notification - INFO - Starting notification cycle
2025-05-20 23:48:36,277 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-20 23:48:36,593 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:48:36,598 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:48:41,613 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:48:41,616 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:48:46,288 - app.notification - INFO - Starting notification cycle
2025-05-20 23:48:46,294 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-20 23:48:46,625 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:48:46,629 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:48:51,646 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:48:51,650 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:48:56,295 - app.notification - INFO - Starting notification cycle
2025-05-20 23:48:56,299 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-20 23:48:56,656 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:48:56,657 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:49:01,677 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:49:01,681 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:49:06,303 - app.notification - INFO - Starting notification cycle
2025-05-20 23:49:06,308 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-20 23:49:06,691 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:49:06,693 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:49:11,708 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:49:11,711 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:49:16,316 - app.notification - INFO - Starting notification cycle
2025-05-20 23:49:16,324 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-20 23:49:16,721 - app.notification - INFO - Starting change tracking cycle
2025-05-20 23:49:16,727 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-20 23:49:20,083 - aiogram.dispatcher - INFO - Polling stopped
2025-05-20 23:49:20,084 - app.notification - INFO - Notification service stopped
2025-05-20 23:49:20,086 - app.notification - INFO - Database connection closed
2025-05-20 23:49:20,364 - app.db_manager - INFO - Database connection closed
2025-05-20 23:49:20,365 - __main__ - INFO - Бот успешно завершил работу
2025-05-20 23:49:20,366 - aiogram.dispatcher - INFO - Polling stopped for bot @pgunoticebot id=7708914926 - '$pgu_notice'
2025-05-20 23:49:20,370 - __main__ - INFO - Бот остановлен по запросу пользователя
2025-05-20 23:49:20,376 - __main__ - INFO - Работа бота завершена
2025-05-21 00:03:28,236 - __main__ - INFO - Бот запускается
2025-05-21 00:03:28,444 - app.db_manager - INFO - Database connection established
2025-05-21 00:03:28,678 - app.notification - INFO - ChangeTracker initialized, last_check_time: 2025-05-21 00:03:28.678
2025-05-21 00:03:28,679 - aiogram.dispatcher - INFO - Start polling
2025-05-21 00:03:28,681 - app.notification - INFO - Starting notification cycle
2025-05-21 00:03:28,687 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:03:28,690 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 00:03:28,692 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:03:28,756 - aiogram.dispatcher - INFO - Run polling for bot @pgunoticebot id=7708914926 - '$pgu_notice'
2025-05-21 00:03:33,707 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:03:33,711 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:03:38,713 - app.notification - INFO - Starting notification cycle
2025-05-21 00:03:38,715 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-21 00:03:38,717 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:03:38,718 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:03:41,877 - aiogram.event - INFO - Update id=804788521 is handled. Duration 226 ms by bot id=7708914926
2025-05-21 00:03:43,741 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:03:43,744 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:03:45,948 - aiogram.event - INFO - Update id=804788522 is handled. Duration 124 ms by bot id=7708914926
2025-05-21 00:03:47,343 - aiogram.event - INFO - Update id=804788523 is handled. Duration 133 ms by bot id=7708914926
2025-05-21 00:03:48,731 - app.notification - INFO - Starting notification cycle
2025-05-21 00:03:48,739 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 00:03:48,755 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:03:48,760 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:03:50,774 - aiogram.event - INFO - Update id=804788524 is handled. Duration 181 ms by bot id=7708914926
2025-05-21 00:03:52,387 - aiogram.event - INFO - Update id=804788525 is handled. Duration 192 ms by bot id=7708914926
2025-05-21 00:03:53,770 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:03:53,791 - app.notification - INFO - Change tracking completed in 0.02s
2025-05-21 00:03:53,941 - aiogram.event - INFO - Update id=804788526 is handled. Duration 195 ms by bot id=7708914926
2025-05-21 00:03:56,105 - aiogram.event - INFO - Update id=804788527 is handled. Duration 106 ms by bot id=7708914926
2025-05-21 00:03:58,166 - aiogram.event - INFO - Update id=804788528 is handled. Duration 250 ms by bot id=7708914926
2025-05-21 00:03:58,750 - app.notification - INFO - Starting notification cycle
2025-05-21 00:03:58,757 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 00:03:58,809 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:03:58,812 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:04:00,727 - aiogram.event - INFO - Update id=804788529 is handled. Duration 219 ms by bot id=7708914926
2025-05-21 00:04:02,303 - aiogram.event - INFO - Update id=804788530 is handled. Duration 282 ms by bot id=7708914926
2025-05-21 00:04:03,830 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:04:03,834 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:04:07,023 - aiogram.event - INFO - Update id=804788531 is handled. Duration 128 ms by bot id=7708914926
2025-05-21 00:04:08,765 - app.notification - INFO - Starting notification cycle
2025-05-21 00:04:08,769 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-21 00:04:08,855 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:04:08,858 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:04:13,067 - aiogram.event - INFO - Update id=804788532 is handled. Duration 287 ms by bot id=7708914926
2025-05-21 00:04:13,876 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:04:13,880 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:04:18,785 - app.notification - INFO - Starting notification cycle
2025-05-21 00:04:18,788 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-21 00:04:18,898 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:04:18,900 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:04:23,912 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:04:23,914 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:04:27,526 - aiogram.event - INFO - Update id=804788533 is handled. Duration 168 ms by bot id=7708914926
2025-05-21 00:04:28,801 - app.notification - INFO - Starting notification cycle
2025-05-21 00:04:28,808 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 00:04:28,934 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:04:28,938 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:04:31,765 - aiogram.event - INFO - Update id=804788534 is handled. Duration 252 ms by bot id=7708914926
2025-05-21 00:04:33,843 - aiogram.event - INFO - Update id=804788535 is handled. Duration 411 ms by bot id=7708914926
2025-05-21 00:04:33,956 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:04:33,959 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:04:35,519 - aiogram.event - INFO - Update id=804788536 is handled. Duration 135 ms by bot id=7708914926
2025-05-21 00:04:36,963 - aiogram.event - INFO - Update id=804788537 is handled. Duration 180 ms by bot id=7708914926
2025-05-21 00:04:38,813 - app.notification - INFO - Starting notification cycle
2025-05-21 00:04:38,818 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-21 00:04:38,971 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:04:38,974 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:04:43,865 - app.db_manager - ERROR - Database error: UNIQUE constraint failed: student_debts.student_id, student_debts.discipline_id, student_debts.debt_type_id
2025-05-21 00:04:43,865 - app.handlers - ERROR - Ошибка при добавлении долга: UNIQUE constraint failed: student_debts.student_id, student_debts.discipline_id, student_debts.debt_type_id
2025-05-21 00:04:43,984 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:04:43,987 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:04:43,996 - aiogram.event - INFO - Update id=804788538 is handled. Duration 188 ms by bot id=7708914926
2025-05-21 00:04:48,831 - app.notification - INFO - Starting notification cycle
2025-05-21 00:04:48,835 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-21 00:04:48,999 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:04:49,003 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:04:51,390 - aiogram.event - INFO - Update id=804788539 is handled. Duration 105 ms by bot id=7708914926
2025-05-21 00:04:54,019 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:04:54,024 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:04:58,839 - app.notification - INFO - Starting notification cycle
2025-05-21 00:04:58,842 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-21 00:04:59,043 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:04:59,047 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:05:00,214 - aiogram.event - INFO - Update id=804788540 is handled. Duration 148 ms by bot id=7708914926
2025-05-21 00:05:00,705 - aiogram.event - INFO - Update id=804788541 is handled. Duration 171 ms by bot id=7708914926
2025-05-21 00:05:04,064 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:05:04,066 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:05:05,422 - aiogram.event - INFO - Update id=804788542 is handled. Duration 149 ms by bot id=7708914926
2025-05-21 00:05:08,849 - app.notification - INFO - Starting notification cycle
2025-05-21 00:05:08,855 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 00:05:09,075 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:05:09,078 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:05:14,092 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:05:14,095 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:05:18,860 - app.notification - INFO - Starting notification cycle
2025-05-21 00:05:18,865 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-21 00:05:19,105 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:05:19,108 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:05:19,436 - aiogram.event - INFO - Update id=804788543 is handled. Duration 124 ms by bot id=7708914926
2025-05-21 00:05:21,239 - aiogram.event - INFO - Update id=804788544 is handled. Duration 122 ms by bot id=7708914926
2025-05-21 00:05:22,576 - aiogram.event - INFO - Update id=804788545 is handled. Duration 120 ms by bot id=7708914926
2025-05-21 00:05:24,117 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:05:24,119 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:05:26,782 - aiogram.event - INFO - Update id=804788546 is handled. Duration 129 ms by bot id=7708914926
2025-05-21 00:05:28,871 - app.notification - INFO - Starting notification cycle
2025-05-21 00:05:28,877 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 00:05:29,134 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:05:29,138 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:05:30,771 - aiogram.event - INFO - Update id=804788547 is handled. Duration 140 ms by bot id=7708914926
2025-05-21 00:05:34,144 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:05:34,146 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:05:38,886 - app.notification - INFO - Starting notification cycle
2025-05-21 00:05:38,894 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 00:05:38,929 - aiogram.event - INFO - Update id=804788548 is handled. Duration 147 ms by bot id=7708914926
2025-05-21 00:05:39,158 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:05:39,162 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:05:40,701 - aiogram.event - INFO - Update id=804788549 is handled. Duration 204 ms by bot id=7708914926
2025-05-21 00:05:42,124 - aiogram.event - INFO - Update id=804788550 is handled. Duration 202 ms by bot id=7708914926
2025-05-21 00:05:43,793 - aiogram.event - INFO - Update id=804788551 is handled. Duration 326 ms by bot id=7708914926
2025-05-21 00:05:44,175 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:05:44,177 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:05:46,173 - aiogram.event - INFO - Update id=804788552 is handled. Duration 129 ms by bot id=7708914926
2025-05-21 00:05:47,223 - aiogram.event - INFO - Update id=804788553 is handled. Duration 129 ms by bot id=7708914926
2025-05-21 00:05:48,902 - app.notification - INFO - Starting notification cycle
2025-05-21 00:05:48,906 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-21 00:05:49,196 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:05:49,198 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:05:51,155 - aiogram.event - INFO - Update id=804788554 is handled. Duration 132 ms by bot id=7708914926
2025-05-21 00:05:54,214 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:05:54,216 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:05:58,913 - app.notification - INFO - Starting notification cycle
2025-05-21 00:05:58,920 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 00:05:59,225 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:05:59,228 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:06:04,245 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:06:04,249 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:06:08,933 - app.notification - INFO - Starting notification cycle
2025-05-21 00:06:08,940 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 00:06:09,264 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:06:09,265 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:06:14,283 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:06:14,286 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:06:15,366 - aiogram.event - INFO - Update id=804788555 is handled. Duration 110 ms by bot id=7708914926
2025-05-21 00:06:16,744 - aiogram.event - INFO - Update id=804788556 is handled. Duration 138 ms by bot id=7708914926
2025-05-21 00:06:18,956 - app.notification - INFO - Starting notification cycle
2025-05-21 00:06:18,962 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 00:06:19,305 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:06:19,308 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:06:24,313 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:06:24,316 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:06:24,442 - aiogram.event - INFO - Update id=804788557 is handled. Duration 140 ms by bot id=7708914926
2025-05-21 00:06:28,971 - app.notification - INFO - Starting notification cycle
2025-05-21 00:06:28,975 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-21 00:06:29,335 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:06:29,338 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:06:31,542 - aiogram.event - INFO - Update id=804788558 is handled. Duration 303 ms by bot id=7708914926
2025-05-21 00:06:33,845 - aiogram.event - INFO - Update id=804788559 is handled. Duration 390 ms by bot id=7708914926
2025-05-21 00:06:34,348 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:06:34,351 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:06:35,129 - aiogram.event - INFO - Update id=804788560 is handled. Duration 158 ms by bot id=7708914926
2025-05-21 00:06:36,889 - aiogram.event - INFO - Update id=804788561 is handled. Duration 114 ms by bot id=7708914926
2025-05-21 00:06:38,978 - app.notification - INFO - Starting notification cycle
2025-05-21 00:06:38,982 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-21 00:06:39,371 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:06:39,374 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:06:41,764 - aiogram.event - INFO - Update id=804788562 is handled. Duration 158 ms by bot id=7708914926
2025-05-21 00:06:44,394 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:06:44,397 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:06:48,997 - app.notification - INFO - Starting notification cycle
2025-05-21 00:06:49,297 - app.notification - INFO - Test reminder 4 sent to 1 users
2025-05-21 00:06:49,300 - app.notification - INFO - Notification cycle completed in 0.30s
2025-05-21 00:06:49,412 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:06:49,416 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:06:54,427 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:06:54,432 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:06:55,509 - aiogram.event - INFO - Update id=804788563 is handled. Duration 173 ms by bot id=7708914926
2025-05-21 00:06:58,533 - aiogram.event - INFO - Update id=804788564 is handled. Duration 194 ms by bot id=7708914926
2025-05-21 00:06:59,306 - app.notification - INFO - Starting notification cycle
2025-05-21 00:06:59,312 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 00:06:59,441 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:06:59,445 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:07:00,620 - aiogram.event - INFO - Update id=804788565 is handled. Duration 437 ms by bot id=7708914926
2025-05-21 00:07:03,680 - aiogram.event - INFO - Update id=804788566 is handled. Duration 125 ms by bot id=7708914926
2025-05-21 00:07:04,460 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:07:04,464 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:07:05,787 - aiogram.event - INFO - Update id=804788567 is handled. Duration 135 ms by bot id=7708914926
2025-05-21 00:07:09,318 - app.notification - INFO - Starting notification cycle
2025-05-21 00:07:09,324 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 00:07:09,479 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:07:09,483 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:07:10,285 - aiogram.event - INFO - Update id=804788568 is handled. Duration 169 ms by bot id=7708914926
2025-05-21 00:07:14,505 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:07:14,507 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:07:19,337 - app.notification - INFO - Starting notification cycle
2025-05-21 00:07:19,523 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:07:19,527 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:07:19,549 - app.notification - INFO - Debt reminders sent to 1 users
2025-05-21 00:07:19,551 - app.notification - INFO - Notification cycle completed in 0.21s
2025-05-21 00:07:24,535 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:07:24,538 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:07:29,547 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:07:29,550 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:07:29,558 - app.notification - INFO - Starting notification cycle
2025-05-21 00:07:29,563 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 00:07:30,186 - aiogram.event - INFO - Update id=804788569 is handled. Duration 216 ms by bot id=7708914926
2025-05-21 00:07:31,179 - aiogram.event - INFO - Update id=804788570 is handled. Duration 146 ms by bot id=7708914926
2025-05-21 00:07:34,560 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:07:34,564 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:07:36,252 - aiogram.event - INFO - Update id=804788571 is handled. Duration 103 ms by bot id=7708914926
2025-05-21 00:07:37,581 - aiogram.event - INFO - Update id=804788572 is handled. Duration 232 ms by bot id=7708914926
2025-05-21 00:07:39,493 - aiogram.event - INFO - Update id=804788573 is handled. Duration 170 ms by bot id=7708914926
2025-05-21 00:07:39,580 - app.notification - INFO - Starting notification cycle
2025-05-21 00:07:39,586 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 00:07:39,590 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:07:39,594 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:07:41,444 - aiogram.event - INFO - Update id=804788574 is handled. Duration 141 ms by bot id=7708914926
2025-05-21 00:07:42,881 - aiogram.event - INFO - Update id=804788575 is handled. Duration 111 ms by bot id=7708914926
2025-05-21 00:07:44,603 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:07:44,605 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:07:44,647 - aiogram.event - INFO - Update id=804788576 is handled. Duration 113 ms by bot id=7708914926
2025-05-21 00:07:46,401 - aiogram.event - INFO - Update id=804788577 is handled. Duration 89 ms by bot id=7708914926
2025-05-21 00:07:47,280 - aiogram.event - INFO - Update id=804788578 is handled. Duration 179 ms by bot id=7708914926
2025-05-21 00:07:49,593 - app.notification - INFO - Starting notification cycle
2025-05-21 00:07:49,597 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-21 00:07:49,617 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:07:49,621 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:07:54,629 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:07:54,633 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:07:59,612 - app.notification - INFO - Starting notification cycle
2025-05-21 00:07:59,615 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-21 00:07:59,651 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:07:59,655 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:08:02,262 - aiogram.event - INFO - Update id=804788579 is handled. Duration 130 ms by bot id=7708914926
2025-05-21 00:08:04,673 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:08:04,676 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:08:08,310 - aiogram.event - INFO - Update id=804788580 is handled. Duration 132 ms by bot id=7708914926
2025-05-21 00:08:09,626 - app.notification - INFO - Starting notification cycle
2025-05-21 00:08:09,632 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 00:08:09,698 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:08:09,702 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:08:11,164 - aiogram.event - INFO - Update id=804788581 is handled. Duration 422 ms by bot id=7708914926
2025-05-21 00:08:14,724 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:08:14,728 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:08:19,641 - app.notification - INFO - Starting notification cycle
2025-05-21 00:08:19,647 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 00:08:19,749 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:08:19,753 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:08:24,772 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:08:24,775 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:08:28,494 - aiogram.dispatcher - INFO - Polling stopped
2025-05-21 00:08:28,494 - app.notification - INFO - Notification service stopped
2025-05-21 00:08:28,496 - app.notification - INFO - Database connection closed
2025-05-21 00:08:28,758 - app.db_manager - INFO - Database connection closed
2025-05-21 00:08:28,758 - __main__ - INFO - Бот успешно завершил работу
2025-05-21 00:08:28,759 - aiogram.dispatcher - INFO - Polling stopped for bot @pgunoticebot id=7708914926 - '$pgu_notice'
2025-05-21 00:08:28,761 - __main__ - INFO - Бот остановлен по запросу пользователя
2025-05-21 00:08:28,761 - __main__ - INFO - Работа бота завершена
2025-05-21 00:22:07,368 - __main__ - INFO - Бот запускается
2025-05-21 00:22:07,577 - app.db_manager - INFO - Database connection established
2025-05-21 00:22:07,806 - app.notification - INFO - ChangeTracker initialized, last_check_time: 2025-05-21 00:22:07
2025-05-21 00:22:07,808 - aiogram.dispatcher - INFO - Start polling
2025-05-21 00:22:07,810 - app.notification - INFO - Starting notification cycle
2025-05-21 00:22:07,816 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:22:07,817 - app.notification - ERROR - Error in check_test_changes: no such column: g.name_group
Traceback (most recent call last):
  File "C:\Users\Shuti\TelegramBot\app\notification.py", line 117, in check_test_changes
    async with db_connection.execute(query, [last_check_str]*6) as cursor:
               ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\context.py", line 41, in __aenter__
    self._obj = await self._coro
                ^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 105, in run
    result = function()
sqlite3.OperationalError: no such column: g.name_group
2025-05-21 00:22:07,822 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 00:22:07,823 - app.notification - ERROR - Error in tracker main loop: no such column: g.name_group
Traceback (most recent call last):
  File "C:\Users\Shuti\TelegramBot\app\notification.py", line 75, in track_changes
    await check_test_changes(conn, bot, tracker, semaphore, current_check_time, last_check_str)
  File "C:\Users\Shuti\TelegramBot\app\notification.py", line 117, in check_test_changes
    async with db_connection.execute(query, [last_check_str]*6) as cursor:
               ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\context.py", line 41, in __aenter__
    self._obj = await self._coro
                ^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 105, in run
    result = function()
sqlite3.OperationalError: no such column: g.name_group
2025-05-21 00:22:07,881 - aiogram.dispatcher - INFO - Run polling for bot @pgunoticebot id=7708914926 - '$pgu_notice'
2025-05-21 00:22:15,508 - aiogram.dispatcher - INFO - Polling stopped
2025-05-21 00:22:15,508 - app.notification - INFO - Notification service stopped
2025-05-21 00:22:15,509 - app.notification - INFO - Database connection closed
2025-05-21 00:22:15,773 - app.db_manager - INFO - Database connection closed
2025-05-21 00:22:15,774 - __main__ - INFO - Бот успешно завершил работу
2025-05-21 00:22:15,775 - aiogram.dispatcher - INFO - Polling stopped for bot @pgunoticebot id=7708914926 - '$pgu_notice'
2025-05-21 00:22:15,777 - __main__ - INFO - Бот остановлен по запросу пользователя
2025-05-21 00:22:15,778 - __main__ - INFO - Работа бота завершена
2025-05-21 00:23:34,420 - __main__ - INFO - Бот запускается
2025-05-21 00:23:34,625 - app.db_manager - INFO - Database connection established
2025-05-21 00:23:34,844 - app.notification - INFO - ChangeTracker initialized, last_check_time: 2025-05-21 00:23:34
2025-05-21 00:23:34,846 - aiogram.dispatcher - INFO - Start polling
2025-05-21 00:23:34,848 - app.notification - INFO - Starting notification cycle
2025-05-21 00:23:34,853 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-21 00:23:34,853 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:23:34,854 - app.notification - ERROR - Error in check_test_changes: near "FROM": syntax error
Traceback (most recent call last):
  File "C:\Users\Shuti\TelegramBot\app\notification.py", line 118, in check_test_changes
    async with db_connection.execute(query, [last_check_str]*6) as cursor:
               ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\context.py", line 41, in __aenter__
    self._obj = await self._coro
                ^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 105, in run
    result = function()
sqlite3.OperationalError: near "FROM": syntax error
2025-05-21 00:23:34,859 - app.notification - ERROR - Error in tracker main loop: near "FROM": syntax error
Traceback (most recent call last):
  File "C:\Users\Shuti\TelegramBot\app\notification.py", line 75, in track_changes
    await check_test_changes(conn, bot, tracker, semaphore, current_check_time, last_check_str)
  File "C:\Users\Shuti\TelegramBot\app\notification.py", line 118, in check_test_changes
    async with db_connection.execute(query, [last_check_str]*6) as cursor:
               ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\context.py", line 41, in __aenter__
    self._obj = await self._coro
                ^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 105, in run
    result = function()
sqlite3.OperationalError: near "FROM": syntax error
2025-05-21 00:23:34,918 - aiogram.dispatcher - INFO - Run polling for bot @pgunoticebot id=7708914926 - '$pgu_notice'
2025-05-21 00:23:44,854 - app.notification - INFO - Starting notification cycle
2025-05-21 00:23:44,858 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-21 00:23:44,876 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:23:44,877 - app.notification - ERROR - Error in check_test_changes: near "FROM": syntax error
Traceback (most recent call last):
  File "C:\Users\Shuti\TelegramBot\app\notification.py", line 118, in check_test_changes
    async with db_connection.execute(query, [last_check_str]*6) as cursor:
               ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\context.py", line 41, in __aenter__
    self._obj = await self._coro
                ^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 105, in run
    result = function()
sqlite3.OperationalError: near "FROM": syntax error
2025-05-21 00:23:44,881 - app.notification - ERROR - Error in tracker main loop: near "FROM": syntax error
Traceback (most recent call last):
  File "C:\Users\Shuti\TelegramBot\app\notification.py", line 75, in track_changes
    await check_test_changes(conn, bot, tracker, semaphore, current_check_time, last_check_str)
  File "C:\Users\Shuti\TelegramBot\app\notification.py", line 118, in check_test_changes
    async with db_connection.execute(query, [last_check_str]*6) as cursor:
               ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\context.py", line 41, in __aenter__
    self._obj = await self._coro
                ^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 105, in run
    result = function()
sqlite3.OperationalError: near "FROM": syntax error
2025-05-21 00:23:45,913 - aiogram.dispatcher - INFO - Polling stopped
2025-05-21 00:23:45,913 - app.notification - INFO - Notification service stopped
2025-05-21 00:23:45,915 - app.notification - INFO - Database connection closed
2025-05-21 00:23:46,173 - app.db_manager - INFO - Database connection closed
2025-05-21 00:23:46,174 - __main__ - INFO - Бот успешно завершил работу
2025-05-21 00:23:46,175 - aiogram.dispatcher - INFO - Polling stopped for bot @pgunoticebot id=7708914926 - '$pgu_notice'
2025-05-21 00:23:46,178 - __main__ - INFO - Бот остановлен по запросу пользователя
2025-05-21 00:23:46,178 - __main__ - INFO - Работа бота завершена
2025-05-21 00:24:09,786 - __main__ - INFO - Бот запускается
2025-05-21 00:24:10,036 - app.db_manager - INFO - Database connection established
2025-05-21 00:24:10,232 - app.notification - INFO - ChangeTracker initialized, last_check_time: 2025-05-21 00:24:10
2025-05-21 00:24:10,233 - aiogram.dispatcher - INFO - Start polling
2025-05-21 00:24:10,235 - app.notification - INFO - Starting notification cycle
2025-05-21 00:24:10,253 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:24:10,256 - app.notification - ERROR - Error in check_test_changes: no such column: g.name_group
Traceback (most recent call last):
  File "C:\Users\Shuti\TelegramBot\app\notification.py", line 117, in check_test_changes
    async with db_connection.execute(query, [last_check_str]*6) as cursor:
               ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\context.py", line 41, in __aenter__
    self._obj = await self._coro
                ^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 105, in run
    result = function()
sqlite3.OperationalError: no such column: g.name_group
2025-05-21 00:24:10,267 - app.notification - INFO - Notification cycle completed in 0.03s
2025-05-21 00:24:10,268 - app.notification - ERROR - Error in tracker main loop: no such column: g.name_group
Traceback (most recent call last):
  File "C:\Users\Shuti\TelegramBot\app\notification.py", line 75, in track_changes
    await check_test_changes(conn, bot, tracker, semaphore, current_check_time, last_check_str)
  File "C:\Users\Shuti\TelegramBot\app\notification.py", line 117, in check_test_changes
    async with db_connection.execute(query, [last_check_str]*6) as cursor:
               ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\context.py", line 41, in __aenter__
    self._obj = await self._coro
                ^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 105, in run
    result = function()
sqlite3.OperationalError: no such column: g.name_group
2025-05-21 00:24:10,294 - aiogram.dispatcher - INFO - Run polling for bot @pgunoticebot id=7708914926 - '$pgu_notice'
2025-05-21 00:24:10,896 - aiogram.dispatcher - INFO - Polling stopped
2025-05-21 00:24:10,897 - app.notification - INFO - Notification service stopped
2025-05-21 00:24:10,897 - app.notification - INFO - Database connection closed
2025-05-21 00:24:11,151 - app.db_manager - INFO - Database connection closed
2025-05-21 00:24:11,153 - __main__ - INFO - Бот успешно завершил работу
2025-05-21 00:24:11,154 - aiogram.dispatcher - INFO - Polling stopped for bot @pgunoticebot id=7708914926 - '$pgu_notice'
2025-05-21 00:24:11,157 - __main__ - INFO - Бот остановлен по запросу пользователя
2025-05-21 00:24:11,157 - __main__ - INFO - Работа бота завершена
2025-05-21 00:25:50,485 - __main__ - INFO - Бот запускается
2025-05-21 00:25:50,666 - app.db_manager - INFO - Database connection established
2025-05-21 00:25:50,865 - app.notification - INFO - ChangeTracker initialized, last_check_time: 2025-05-21 00:25:50
2025-05-21 00:25:50,866 - aiogram.dispatcher - INFO - Start polling
2025-05-21 00:25:50,868 - app.notification - INFO - Starting notification cycle
2025-05-21 00:25:50,874 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 00:25:50,878 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:25:50,879 - app.notification - ERROR - Error in check_test_changes: no such column: gr.name
Traceback (most recent call last):
  File "C:\Users\Shuti\TelegramBot\app\notification.py", line 122, in check_test_changes
    async with db_connection.execute(query, [last_check_str]*6) as cursor:
               ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\context.py", line 41, in __aenter__
    self._obj = await self._coro
                ^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 105, in run
    result = function()
sqlite3.OperationalError: no such column: gr.name
2025-05-21 00:25:50,884 - app.notification - ERROR - Error in tracker main loop: no such column: gr.name
Traceback (most recent call last):
  File "C:\Users\Shuti\TelegramBot\app\notification.py", line 75, in track_changes
    await check_test_changes(conn, bot, tracker, semaphore, current_check_time, last_check_str)
  File "C:\Users\Shuti\TelegramBot\app\notification.py", line 122, in check_test_changes
    async with db_connection.execute(query, [last_check_str]*6) as cursor:
               ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\context.py", line 41, in __aenter__
    self._obj = await self._coro
                ^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 105, in run
    result = function()
sqlite3.OperationalError: no such column: gr.name
2025-05-21 00:25:50,933 - aiogram.dispatcher - INFO - Run polling for bot @pgunoticebot id=7708914926 - '$pgu_notice'
2025-05-21 00:25:57,775 - aiogram.dispatcher - INFO - Polling stopped
2025-05-21 00:25:57,776 - app.notification - INFO - Notification service stopped
2025-05-21 00:25:57,779 - app.notification - INFO - Database connection closed
2025-05-21 00:25:58,037 - app.db_manager - INFO - Database connection closed
2025-05-21 00:25:58,038 - __main__ - INFO - Бот успешно завершил работу
2025-05-21 00:25:58,039 - aiogram.dispatcher - INFO - Polling stopped for bot @pgunoticebot id=7708914926 - '$pgu_notice'
2025-05-21 00:25:58,042 - __main__ - INFO - Бот остановлен по запросу пользователя
2025-05-21 00:25:58,042 - __main__ - INFO - Работа бота завершена
2025-05-21 00:28:39,835 - __main__ - INFO - Бот запускается
2025-05-21 00:28:40,069 - app.db_manager - INFO - Database connection established
2025-05-21 00:28:40,279 - app.notification - INFO - ChangeTracker initialized, last_check_time: 2025-05-21 00:28:40
2025-05-21 00:28:40,281 - aiogram.dispatcher - INFO - Start polling
2025-05-21 00:28:40,283 - app.notification - INFO - Starting notification cycle
2025-05-21 00:28:40,288 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-21 00:28:40,288 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:28:40,289 - app.notification - ERROR - Error in check_debt_changes: no such column: t.deleted_at
Traceback (most recent call last):
  File "C:\Users\Shuti\TelegramBot\app\notification.py", line 256, in check_debt_changes
    async with db_connection.execute(query, [last_check_str]*6) as cursor:
               ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\context.py", line 41, in __aenter__
    self._obj = await self._coro
                ^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 105, in run
    result = function()
sqlite3.OperationalError: no such column: t.deleted_at
2025-05-21 00:28:40,297 - app.notification - ERROR - Error in tracker main loop: no such column: t.deleted_at
Traceback (most recent call last):
  File "C:\Users\Shuti\TelegramBot\app\notification.py", line 76, in track_changes
    await check_debt_changes(conn, bot, tracker, semaphore, current_check_time, last_check_str)
  File "C:\Users\Shuti\TelegramBot\app\notification.py", line 256, in check_debt_changes
    async with db_connection.execute(query, [last_check_str]*6) as cursor:
               ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\context.py", line 41, in __aenter__
    self._obj = await self._coro
                ^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 105, in run
    result = function()
sqlite3.OperationalError: no such column: t.deleted_at
2025-05-21 00:28:40,353 - aiogram.dispatcher - INFO - Run polling for bot @pgunoticebot id=7708914926 - '$pgu_notice'
2025-05-21 00:28:44,335 - aiogram.dispatcher - INFO - Polling stopped
2025-05-21 00:28:44,336 - app.notification - INFO - Notification service stopped
2025-05-21 00:28:44,338 - app.notification - INFO - Database connection closed
2025-05-21 00:28:44,594 - app.db_manager - INFO - Database connection closed
2025-05-21 00:28:44,595 - __main__ - INFO - Бот успешно завершил работу
2025-05-21 00:28:44,596 - aiogram.dispatcher - INFO - Polling stopped for bot @pgunoticebot id=7708914926 - '$pgu_notice'
2025-05-21 00:28:44,599 - __main__ - INFO - Бот остановлен по запросу пользователя
2025-05-21 00:28:44,599 - __main__ - INFO - Работа бота завершена
2025-05-21 00:29:56,276 - __main__ - INFO - Бот запускается
2025-05-21 00:29:56,462 - app.db_manager - INFO - Database connection established
2025-05-21 00:29:56,663 - app.notification - INFO - ChangeTracker initialized, last_check_time: 2025-05-21 00:29:56
2025-05-21 00:29:56,664 - aiogram.dispatcher - INFO - Start polling
2025-05-21 00:29:56,665 - app.notification - INFO - Starting notification cycle
2025-05-21 00:29:56,689 - app.notification - INFO - Notification cycle completed in 0.02s
2025-05-21 00:29:56,691 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:29:56,693 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:29:56,728 - aiogram.dispatcher - INFO - Run polling for bot @pgunoticebot id=7708914926 - '$pgu_notice'
2025-05-21 00:30:01,708 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:30:01,710 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:30:06,699 - app.notification - INFO - Starting notification cycle
2025-05-21 00:30:06,704 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-21 00:30:06,719 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:30:06,722 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:30:11,741 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:30:11,745 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:30:12,579 - aiogram.event - INFO - Update id=804788582 is handled. Duration 269 ms by bot id=7708914926
2025-05-21 00:30:15,651 - aiogram.event - INFO - Update id=804788583 is handled. Duration 110 ms by bot id=7708914926
2025-05-21 00:30:16,715 - app.notification - INFO - Starting notification cycle
2025-05-21 00:30:16,722 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 00:30:16,762 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:30:16,767 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:30:17,365 - aiogram.event - INFO - Update id=804788584 is handled. Duration 128 ms by bot id=7708914926
2025-05-21 00:30:19,222 - aiogram.event - INFO - Update id=804788585 is handled. Duration 164 ms by bot id=7708914926
2025-05-21 00:30:21,776 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:30:21,778 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:30:23,644 - aiogram.event - INFO - Update id=804788586 is handled. Duration 112 ms by bot id=7708914926
2025-05-21 00:30:25,918 - aiogram.event - INFO - Update id=804788587 is handled. Duration 104 ms by bot id=7708914926
2025-05-21 00:30:26,731 - app.notification - INFO - Starting notification cycle
2025-05-21 00:30:26,738 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 00:30:26,788 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:30:26,792 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:30:29,414 - aiogram.event - INFO - Update id=804788588 is handled. Duration 192 ms by bot id=7708914926
2025-05-21 00:30:30,673 - aiogram.event - INFO - Update id=804788589 is handled. Duration 142 ms by bot id=7708914926
2025-05-21 00:30:31,803 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:30:31,807 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:30:32,357 - aiogram.event - INFO - Update id=804788590 is handled. Duration 143 ms by bot id=7708914926
2025-05-21 00:30:34,902 - aiogram.event - INFO - Update id=804788591 is handled. Duration 294 ms by bot id=7708914926
2025-05-21 00:30:36,743 - app.notification - INFO - Starting notification cycle
2025-05-21 00:30:36,746 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-21 00:30:36,829 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:30:36,833 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:30:36,909 - aiogram.event - INFO - Update id=804788592 is handled. Duration 229 ms by bot id=7708914926
2025-05-21 00:30:41,847 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:30:41,850 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:30:44,829 - aiogram.event - INFO - Update id=804788593 is handled. Duration 161 ms by bot id=7708914926
2025-05-21 00:30:46,202 - aiogram.event - INFO - Update id=804788594 is handled. Duration 153 ms by bot id=7708914926
2025-05-21 00:30:46,754 - app.notification - INFO - Starting notification cycle
2025-05-21 00:30:46,760 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 00:30:46,868 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:30:46,872 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:30:51,881 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:30:51,884 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:30:56,776 - app.notification - INFO - Starting notification cycle
2025-05-21 00:30:56,780 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-21 00:30:56,900 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:30:56,903 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:31:01,924 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:31:01,927 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:31:06,793 - app.notification - INFO - Starting notification cycle
2025-05-21 00:31:06,796 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-21 00:31:06,937 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:31:06,940 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:31:11,765 - aiogram.event - INFO - Update id=804788595 is handled. Duration 91 ms by bot id=7708914926
2025-05-21 00:31:11,962 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:31:11,965 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:31:16,814 - app.notification - INFO - Starting notification cycle
2025-05-21 00:31:16,819 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 00:31:16,980 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:31:16,983 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:31:18,531 - aiogram.event - INFO - Update id=804788596 is handled. Duration 131 ms by bot id=7708914926
2025-05-21 00:31:21,989 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:31:21,991 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:31:24,640 - aiogram.event - INFO - Update id=804788597 is handled. Duration 92 ms by bot id=7708914926
2025-05-21 00:31:26,267 - aiogram.event - INFO - Update id=804788598 is handled. Duration 140 ms by bot id=7708914926
2025-05-21 00:31:26,838 - app.notification - INFO - Starting notification cycle
2025-05-21 00:31:26,844 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 00:31:27,010 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:31:27,014 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:31:29,040 - aiogram.event - INFO - Update id=804788599 is handled. Duration 124 ms by bot id=7708914926
2025-05-21 00:31:30,307 - aiogram.event - INFO - Update id=804788600 is handled. Duration 177 ms by bot id=7708914926
2025-05-21 00:31:31,616 - aiogram.event - INFO - Update id=804788601 is handled. Duration 367 ms by bot id=7708914926
2025-05-21 00:31:32,031 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:31:32,033 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:31:36,853 - app.notification - INFO - Starting notification cycle
2025-05-21 00:31:36,859 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 00:31:37,055 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:31:37,059 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:31:39,895 - aiogram.event - INFO - Update id=804788602 is handled. Duration 205 ms by bot id=7708914926
2025-05-21 00:31:41,340 - aiogram.event - INFO - Update id=804788603 is handled. Duration 162 ms by bot id=7708914926
2025-05-21 00:31:42,075 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:31:42,079 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:31:43,579 - aiogram.event - INFO - Update id=804788604 is handled. Duration 121 ms by bot id=7708914926
2025-05-21 00:31:46,862 - app.notification - INFO - Starting notification cycle
2025-05-21 00:31:46,868 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 00:31:47,084 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:31:47,087 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:31:49,543 - aiogram.event - INFO - Update id=804788605 is handled. Duration 127 ms by bot id=7708914926
2025-05-21 00:31:52,096 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:31:52,099 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:31:56,883 - app.notification - INFO - Starting notification cycle
2025-05-21 00:31:56,889 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 00:31:57,120 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:31:57,123 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:32:02,128 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:32:02,131 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:32:06,901 - app.notification - INFO - Starting notification cycle
2025-05-21 00:32:06,904 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-21 00:32:07,150 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:32:07,154 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:32:12,162 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:32:12,166 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:32:16,912 - app.notification - INFO - Starting notification cycle
2025-05-21 00:32:16,917 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-21 00:32:17,185 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:32:17,189 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:32:22,196 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:32:22,199 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:32:26,922 - app.notification - INFO - Starting notification cycle
2025-05-21 00:32:26,928 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 00:32:27,213 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:32:27,217 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:32:32,232 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:32:32,235 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:32:36,934 - app.notification - INFO - Starting notification cycle
2025-05-21 00:32:36,940 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 00:32:37,252 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:32:37,256 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:32:42,265 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:32:42,268 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:32:46,956 - app.notification - INFO - Starting notification cycle
2025-05-21 00:32:46,961 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 00:32:47,278 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:32:47,280 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:32:52,290 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:32:52,292 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:32:56,970 - app.notification - INFO - Starting notification cycle
2025-05-21 00:32:56,976 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 00:32:57,309 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:32:57,311 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:33:02,330 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:33:02,334 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:33:06,985 - app.notification - INFO - Starting notification cycle
2025-05-21 00:33:06,987 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-21 00:33:07,349 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:33:07,350 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:33:12,367 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:33:12,371 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:33:16,994 - app.notification - INFO - Starting notification cycle
2025-05-21 00:33:17,000 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 00:33:17,382 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:33:17,386 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:33:22,403 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:33:22,406 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:33:27,016 - app.notification - INFO - Starting notification cycle
2025-05-21 00:33:27,023 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 00:33:27,423 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:33:27,427 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:33:32,438 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:33:32,442 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:33:37,036 - app.notification - INFO - Starting notification cycle
2025-05-21 00:33:37,038 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-21 00:33:37,458 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:33:37,460 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:33:42,471 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:33:42,472 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:33:47,041 - app.notification - INFO - Starting notification cycle
2025-05-21 00:33:47,044 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-21 00:33:47,478 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:33:47,481 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:33:52,495 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:33:52,497 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:33:57,057 - app.notification - INFO - Starting notification cycle
2025-05-21 00:33:57,061 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-21 00:33:57,510 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:33:57,513 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:34:02,525 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:34:02,527 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:34:07,068 - app.notification - INFO - Starting notification cycle
2025-05-21 00:34:07,074 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 00:34:07,538 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:34:07,542 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:34:12,553 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:34:12,555 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:34:17,088 - app.notification - INFO - Starting notification cycle
2025-05-21 00:34:17,092 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-21 00:34:17,572 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:34:17,576 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:34:22,597 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:34:22,600 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:34:27,100 - app.notification - INFO - Starting notification cycle
2025-05-21 00:34:27,106 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 00:34:27,618 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:34:27,621 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:34:32,636 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:34:32,639 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:34:37,113 - app.notification - INFO - Starting notification cycle
2025-05-21 00:34:37,117 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-21 00:34:37,650 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:34:37,671 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:34:40,519 - aiogram.event - INFO - Update id=804788606 is handled. Duration 117 ms by bot id=7708914926
2025-05-21 00:34:42,678 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:34:42,680 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:34:47,133 - app.notification - INFO - Starting notification cycle
2025-05-21 00:34:47,137 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-21 00:34:47,685 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:34:47,688 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:34:52,628 - aiogram.event - INFO - Update id=804788607 is handled. Duration 132 ms by bot id=7708914926
2025-05-21 00:34:52,696 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:34:52,698 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:34:57,144 - app.notification - INFO - Starting notification cycle
2025-05-21 00:34:57,150 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 00:34:57,707 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:34:57,711 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:35:02,730 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:35:02,733 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:35:07,156 - app.notification - INFO - Starting notification cycle
2025-05-21 00:35:07,160 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-21 00:35:07,744 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:35:07,748 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:35:08,489 - aiogram.event - INFO - Update id=804788608 is handled. Duration 131 ms by bot id=7708914926
2025-05-21 00:35:10,114 - aiogram.event - INFO - Update id=804788609 is handled. Duration 143 ms by bot id=7708914926
2025-05-21 00:35:11,764 - aiogram.event - INFO - Update id=804788610 is handled. Duration 219 ms by bot id=7708914926
2025-05-21 00:35:12,771 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:35:12,775 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:35:15,049 - aiogram.event - INFO - Update id=804788611 is handled. Duration 206 ms by bot id=7708914926
2025-05-21 00:35:15,897 - aiogram.event - INFO - Update id=804788612 is handled. Duration 128 ms by bot id=7708914926
2025-05-21 00:35:17,171 - app.notification - INFO - Starting notification cycle
2025-05-21 00:35:17,178 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 00:35:17,792 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:35:17,797 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:35:18,092 - aiogram.event - INFO - Update id=804788613 is handled. Duration 129 ms by bot id=7708914926
2025-05-21 00:35:22,593 - aiogram.event - INFO - Update id=804788614 is handled. Duration 102 ms by bot id=7708914926
2025-05-21 00:35:22,814 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:35:22,818 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:35:27,181 - app.notification - INFO - Starting notification cycle
2025-05-21 00:35:27,185 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-21 00:35:27,833 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:35:27,835 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:35:32,872 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:35:32,875 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:35:37,189 - app.notification - INFO - Starting notification cycle
2025-05-21 00:35:37,196 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 00:35:37,885 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:35:37,889 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:35:42,908 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:35:42,910 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:35:47,213 - app.notification - INFO - Starting notification cycle
2025-05-21 00:35:47,218 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-21 00:35:47,921 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:35:47,925 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:35:52,947 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:35:52,949 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:35:57,227 - app.notification - INFO - Starting notification cycle
2025-05-21 00:35:57,231 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-21 00:35:57,966 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:35:57,969 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:36:02,981 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:36:02,982 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:36:07,240 - app.notification - INFO - Starting notification cycle
2025-05-21 00:36:07,245 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-21 00:36:08,013 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:36:08,016 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:36:13,026 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:36:13,029 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:36:17,257 - app.notification - INFO - Starting notification cycle
2025-05-21 00:36:17,262 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 00:36:18,044 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:36:18,048 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:36:23,061 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:36:23,064 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:36:27,280 - app.notification - INFO - Starting notification cycle
2025-05-21 00:36:27,283 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-21 00:36:28,078 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:36:28,082 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:36:33,094 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:36:33,097 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:36:37,295 - app.notification - INFO - Starting notification cycle
2025-05-21 00:36:37,301 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 00:36:38,112 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:36:38,115 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:36:43,135 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:36:43,138 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:36:47,302 - app.notification - INFO - Starting notification cycle
2025-05-21 00:36:47,305 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-21 00:36:48,158 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:36:48,162 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:36:53,181 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:36:53,184 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:36:57,314 - app.notification - INFO - Starting notification cycle
2025-05-21 00:36:57,319 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 00:36:58,207 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:36:58,211 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:37:03,223 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:37:03,226 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:37:07,331 - app.notification - INFO - Starting notification cycle
2025-05-21 00:37:07,336 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 00:37:08,249 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:37:08,260 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:37:13,271 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:37:13,274 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:37:17,345 - app.notification - INFO - Starting notification cycle
2025-05-21 00:37:17,348 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-21 00:37:18,294 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:37:18,297 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:37:23,302 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:37:23,303 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:37:27,358 - app.notification - INFO - Starting notification cycle
2025-05-21 00:37:27,363 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-21 00:37:28,316 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:37:28,320 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:37:33,334 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:37:33,338 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:37:37,374 - app.notification - INFO - Starting notification cycle
2025-05-21 00:37:37,380 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 00:37:38,347 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:37:38,351 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:37:43,365 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:37:43,368 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:37:47,392 - app.notification - INFO - Starting notification cycle
2025-05-21 00:37:47,396 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-21 00:37:48,384 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:37:48,388 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:37:53,398 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:37:53,403 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:37:57,408 - app.notification - INFO - Starting notification cycle
2025-05-21 00:37:57,413 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 00:37:58,414 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:37:58,416 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:38:03,430 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:38:03,433 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:38:07,424 - app.notification - INFO - Starting notification cycle
2025-05-21 00:38:07,430 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 00:38:08,451 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:38:08,453 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:38:13,461 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:38:13,463 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:38:17,437 - app.notification - INFO - Starting notification cycle
2025-05-21 00:38:17,439 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-21 00:38:18,470 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:38:18,472 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:38:23,482 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:38:23,485 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:38:27,448 - app.notification - INFO - Starting notification cycle
2025-05-21 00:38:27,454 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 00:38:28,508 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:38:28,510 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:38:33,520 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:38:33,524 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:38:37,465 - app.notification - INFO - Starting notification cycle
2025-05-21 00:38:37,471 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 00:38:38,539 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:38:38,542 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:38:43,558 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:38:43,561 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:38:47,484 - app.notification - INFO - Starting notification cycle
2025-05-21 00:38:47,488 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-21 00:38:48,572 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:38:48,575 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:38:53,593 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:38:53,595 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:38:57,496 - app.notification - INFO - Starting notification cycle
2025-05-21 00:38:57,502 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 00:38:58,610 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:38:58,614 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:39:00,407 - aiogram.dispatcher - INFO - Polling stopped
2025-05-21 00:39:00,407 - app.notification - INFO - Notification service stopped
2025-05-21 00:39:00,410 - app.notification - INFO - Database connection closed
2025-05-21 00:39:00,663 - app.db_manager - INFO - Database connection closed
2025-05-21 00:39:00,664 - __main__ - INFO - Бот успешно завершил работу
2025-05-21 00:39:00,665 - aiogram.dispatcher - INFO - Polling stopped for bot @pgunoticebot id=7708914926 - '$pgu_notice'
2025-05-21 00:39:00,666 - __main__ - INFO - Бот остановлен по запросу пользователя
2025-05-21 00:39:00,667 - __main__ - INFO - Работа бота завершена
2025-05-21 00:47:27,489 - __main__ - INFO - Бот запускается
2025-05-21 00:47:27,725 - app.db_manager - INFO - Database connection established
2025-05-21 00:47:27,926 - app.notification - INFO - ChangeTracker initialized, last_check_time: 2025-05-21 00:47:27
2025-05-21 00:47:27,928 - aiogram.dispatcher - INFO - Start polling
2025-05-21 00:47:27,929 - app.notification - INFO - Starting notification cycle
2025-05-21 00:47:27,934 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:47:27,935 - app.notification - ERROR - Error in tracker main loop: cannot access local variable 'get_current_db_time' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Users\Shuti\TelegramBot\app\notification.py", line 75, in track_changes
    await check_test_changes(conn, bot, tracker, semaphore, current_check_time, last_check_str)
  File "C:\Users\Shuti\TelegramBot\app\notification.py", line 100, in check_test_changes
    logger.debug(f"Current DB time: {await get_current_db_time(db_connection)}")
                                           ^^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'get_current_db_time' where it is not associated with a value
2025-05-21 00:47:27,942 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 00:47:27,990 - aiogram.dispatcher - INFO - Run polling for bot @pgunoticebot id=7708914926 - '$pgu_notice'
2025-05-21 00:47:34,218 - aiogram.dispatcher - INFO - Polling stopped
2025-05-21 00:47:34,218 - app.notification - INFO - Notification service stopped
2025-05-21 00:47:34,219 - app.notification - INFO - Database connection closed
2025-05-21 00:47:34,481 - app.db_manager - INFO - Database connection closed
2025-05-21 00:47:34,482 - __main__ - INFO - Бот успешно завершил работу
2025-05-21 00:47:34,486 - aiogram.dispatcher - INFO - Polling stopped for bot @pgunoticebot id=7708914926 - '$pgu_notice'
2025-05-21 00:47:34,488 - __main__ - INFO - Бот остановлен по запросу пользователя
2025-05-21 00:47:34,493 - __main__ - INFO - Работа бота завершена
2025-05-21 00:48:58,403 - __main__ - INFO - Бот запускается
2025-05-21 00:48:58,613 - app.db_manager - INFO - Database connection established
2025-05-21 00:48:58,802 - app.notification - INFO - ChangeTracker initialized, last_check_time: 2025-05-21 00:48:58
2025-05-21 00:48:58,803 - aiogram.dispatcher - INFO - Start polling
2025-05-21 00:48:58,805 - app.notification - INFO - Starting notification cycle
2025-05-21 00:48:58,811 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:48:58,813 - app.notification - ERROR - Error in tracker main loop: cannot access local variable 'get_current_db_time' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Users\Shuti\TelegramBot\app\notification.py", line 75, in track_changes
    await check_test_changes(conn, bot, tracker, semaphore, current_check_time, last_check_str)
  File "C:\Users\Shuti\TelegramBot\app\notification.py", line 100, in check_test_changes
    logger.debug(f"Current DB time: {await get_current_db_time(db_connection)}")
                                           ^^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'get_current_db_time' where it is not associated with a value
2025-05-21 00:48:58,817 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 00:48:58,864 - aiogram.dispatcher - INFO - Run polling for bot @pgunoticebot id=7708914926 - '$pgu_notice'
2025-05-21 00:49:08,820 - app.notification - INFO - Starting notification cycle
2025-05-21 00:49:08,824 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-21 00:49:08,825 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:49:08,825 - app.notification - ERROR - Error in tracker main loop: cannot access local variable 'get_current_db_time' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Users\Shuti\TelegramBot\app\notification.py", line 75, in track_changes
    await check_test_changes(conn, bot, tracker, semaphore, current_check_time, last_check_str)
  File "C:\Users\Shuti\TelegramBot\app\notification.py", line 100, in check_test_changes
    logger.debug(f"Current DB time: {await get_current_db_time(db_connection)}")
                                           ^^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'get_current_db_time' where it is not associated with a value
2025-05-21 00:49:09,788 - aiogram.dispatcher - INFO - Polling stopped
2025-05-21 00:49:09,789 - app.notification - INFO - Notification service stopped
2025-05-21 00:49:09,790 - app.notification - INFO - Database connection closed
2025-05-21 00:49:10,047 - app.db_manager - INFO - Database connection closed
2025-05-21 00:49:10,048 - __main__ - INFO - Бот успешно завершил работу
2025-05-21 00:49:10,049 - aiogram.dispatcher - INFO - Polling stopped for bot @pgunoticebot id=7708914926 - '$pgu_notice'
2025-05-21 00:49:10,052 - __main__ - INFO - Бот остановлен по запросу пользователя
2025-05-21 00:49:10,052 - __main__ - INFO - Работа бота завершена
2025-05-21 00:49:20,559 - __main__ - INFO - Бот запускается
2025-05-21 00:49:20,764 - app.db_manager - INFO - Database connection established
2025-05-21 00:49:20,957 - app.notification - INFO - ChangeTracker initialized, last_check_time: 2025-05-21 00:49:20
2025-05-21 00:49:20,959 - aiogram.dispatcher - INFO - Start polling
2025-05-21 00:49:20,960 - app.notification - INFO - Starting notification cycle
2025-05-21 00:49:20,966 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:49:20,969 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 00:49:20,972 - app.notification - INFO - Change tracking completed in 0.01s
2025-05-21 00:49:21,021 - aiogram.dispatcher - INFO - Run polling for bot @pgunoticebot id=7708914926 - '$pgu_notice'
2025-05-21 00:49:25,989 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:49:25,993 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:49:30,970 - app.notification - INFO - Starting notification cycle
2025-05-21 00:49:30,976 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 00:49:31,007 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:49:31,012 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:49:36,015 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:49:36,016 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:49:37,520 - aiogram.event - INFO - Update id=804788615 is handled. Duration 405 ms by bot id=7708914926
2025-05-21 00:49:39,451 - aiogram.event - INFO - Update id=804788616 is handled. Duration 127 ms by bot id=7708914926
2025-05-21 00:49:40,884 - aiogram.event - INFO - Update id=804788617 is handled. Duration 230 ms by bot id=7708914926
2025-05-21 00:49:40,989 - app.notification - INFO - Starting notification cycle
2025-05-21 00:49:40,995 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 00:49:41,027 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:49:41,032 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:49:44,909 - aiogram.event - INFO - Update id=804788618 is handled. Duration 122 ms by bot id=7708914926
2025-05-21 00:49:46,043 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:49:46,046 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:49:51,009 - app.notification - INFO - Starting notification cycle
2025-05-21 00:49:51,016 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 00:49:51,060 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:49:51,064 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:49:51,271 - aiogram.event - INFO - Update id=804788619 is handled. Duration 166 ms by bot id=7708914926
2025-05-21 00:49:53,808 - aiogram.event - INFO - Update id=804788620 is handled. Duration 115 ms by bot id=7708914926
2025-05-21 00:49:56,074 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:49:56,077 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:49:56,425 - aiogram.event - INFO - Update id=804788621 is handled. Duration 376 ms by bot id=7708914926
2025-05-21 00:50:00,772 - aiogram.event - INFO - Update id=804788622 is handled. Duration 408 ms by bot id=7708914926
2025-05-21 00:50:01,032 - app.notification - INFO - Starting notification cycle
2025-05-21 00:50:01,038 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 00:50:01,103 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:50:01,107 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:50:04,620 - aiogram.event - INFO - Update id=804788623 is handled. Duration 127 ms by bot id=7708914926
2025-05-21 00:50:06,127 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:50:06,130 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:50:08,772 - aiogram.event - INFO - Update id=804788624 is handled. Duration 151 ms by bot id=7708914926
2025-05-21 00:50:11,042 - app.notification - INFO - Starting notification cycle
2025-05-21 00:50:11,045 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-21 00:50:11,151 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:50:11,155 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:50:16,176 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:50:16,180 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:50:18,008 - aiogram.event - INFO - Update id=804788625 is handled. Duration 169 ms by bot id=7708914926
2025-05-21 00:50:21,060 - app.notification - INFO - Starting notification cycle
2025-05-21 00:50:21,063 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-21 00:50:21,199 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:50:21,203 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:50:26,226 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:50:26,230 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:50:26,507 - aiogram.event - INFO - Update id=804788626 is handled. Duration 127 ms by bot id=7708914926
2025-05-21 00:50:31,070 - app.notification - INFO - Starting notification cycle
2025-05-21 00:50:31,073 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-21 00:50:31,241 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:50:31,244 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:50:36,262 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:50:36,266 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:50:41,084 - app.notification - INFO - Starting notification cycle
2025-05-21 00:50:41,088 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-21 00:50:41,279 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:50:41,283 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:50:46,298 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:50:46,301 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:50:51,094 - app.notification - INFO - Starting notification cycle
2025-05-21 00:50:51,099 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 00:50:51,324 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:50:51,327 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:50:56,338 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:50:56,340 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:51:01,108 - app.notification - INFO - Starting notification cycle
2025-05-21 00:51:01,111 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-21 00:51:01,348 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:51:01,349 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:51:03,243 - aiogram.event - INFO - Update id=804788627 is handled. Duration 91 ms by bot id=7708914926
2025-05-21 00:51:06,356 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:51:06,360 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:51:11,118 - app.notification - INFO - Starting notification cycle
2025-05-21 00:51:11,120 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-21 00:51:11,367 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:51:11,369 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:51:16,375 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:51:16,377 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:51:21,134 - app.notification - INFO - Starting notification cycle
2025-05-21 00:51:21,141 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 00:51:21,398 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:51:21,401 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:51:26,417 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:51:26,419 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:51:31,147 - app.notification - INFO - Starting notification cycle
2025-05-21 00:51:31,153 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 00:51:31,427 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:51:31,431 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:51:36,450 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:51:36,451 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:51:41,158 - app.notification - INFO - Starting notification cycle
2025-05-21 00:51:41,162 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-21 00:51:41,460 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:51:41,463 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:51:46,479 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:51:46,481 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:51:51,166 - app.notification - INFO - Starting notification cycle
2025-05-21 00:51:51,172 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 00:51:51,489 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:51:51,493 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:51:56,506 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:51:56,510 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:52:01,174 - app.notification - INFO - Starting notification cycle
2025-05-21 00:52:01,177 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-21 00:52:01,527 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:52:01,528 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:52:02,637 - aiogram.event - INFO - Update id=804788628 is handled. Duration 123 ms by bot id=7708914926
2025-05-21 00:52:04,374 - aiogram.event - INFO - Update id=804788629 is handled. Duration 219 ms by bot id=7708914926
2025-05-21 00:52:06,562 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:52:06,569 - app.notification - INFO - Change tracking completed in 0.01s
2025-05-21 00:52:06,791 - aiogram.event - INFO - Update id=804788630 is handled. Duration 274 ms by bot id=7708914926
2025-05-21 00:52:07,960 - aiogram.event - INFO - Update id=804788631 is handled. Duration 135 ms by bot id=7708914926
2025-05-21 00:52:10,013 - aiogram.event - INFO - Update id=804788632 is handled. Duration 135 ms by bot id=7708914926
2025-05-21 00:52:11,187 - app.notification - INFO - Starting notification cycle
2025-05-21 00:52:11,194 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 00:52:11,586 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:52:11,589 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:52:14,204 - aiogram.event - INFO - Update id=804788633 is handled. Duration 136 ms by bot id=7708914926
2025-05-21 00:52:16,603 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:52:16,606 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:52:21,210 - app.notification - INFO - Starting notification cycle
2025-05-21 00:52:21,213 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-21 00:52:21,617 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:52:21,621 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:52:26,637 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:52:26,639 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:52:31,228 - app.notification - INFO - Starting notification cycle
2025-05-21 00:52:31,233 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 00:52:31,649 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:52:31,652 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:52:36,659 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:52:36,661 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:52:41,234 - app.notification - INFO - Starting notification cycle
2025-05-21 00:52:41,237 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-21 00:52:41,675 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:52:41,679 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:52:46,691 - app.notification - INFO - Starting change tracking cycle
2025-05-21 00:52:46,694 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 00:52:48,205 - aiogram.dispatcher - INFO - Polling stopped
2025-05-21 00:52:48,206 - app.notification - INFO - Notification service stopped
2025-05-21 00:52:48,207 - app.notification - INFO - Database connection closed
2025-05-21 00:52:48,464 - app.db_manager - INFO - Database connection closed
2025-05-21 00:52:48,465 - __main__ - INFO - Бот успешно завершил работу
2025-05-21 00:52:48,466 - aiogram.dispatcher - INFO - Polling stopped for bot @pgunoticebot id=7708914926 - '$pgu_notice'
2025-05-21 00:52:48,470 - __main__ - INFO - Бот остановлен по запросу пользователя
2025-05-21 00:52:48,472 - __main__ - INFO - Работа бота завершена
2025-05-21 01:05:47,680 - __main__ - INFO - Бот запускается
2025-05-21 01:05:47,890 - app.db_manager - INFO - Database connection established
2025-05-21 01:05:48,095 - app.notification - INFO - ChangeTracker initialized, last_check_time: 2025-05-21 01:05:48
2025-05-21 01:05:48,097 - aiogram.dispatcher - INFO - Start polling
2025-05-21 01:05:48,098 - app.notification - INFO - Starting notification cycle
2025-05-21 01:05:48,105 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:05:48,106 - app.notification - ERROR - Error in check_test_changes: near "', localtime'": syntax error
Traceback (most recent call last):
  File "C:\Users\Shuti\TelegramBot\app\notification.py", line 130, in check_test_changes
    async with db_connection.execute(query, [last_check_str]*6) as cursor:
               ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\context.py", line 41, in __aenter__
    self._obj = await self._coro
                ^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 105, in run
    result = function()
sqlite3.OperationalError: near "', localtime'": syntax error
2025-05-21 01:05:48,112 - app.notification - ERROR - Error in tracker main loop: near "', localtime'": syntax error
Traceback (most recent call last):
  File "C:\Users\Shuti\TelegramBot\app\notification.py", line 79, in track_changes
    await check_test_changes(conn, bot, tracker, semaphore, current_check_time, last_check_str)
  File "C:\Users\Shuti\TelegramBot\app\notification.py", line 130, in check_test_changes
    async with db_connection.execute(query, [last_check_str]*6) as cursor:
               ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\context.py", line 41, in __aenter__
    self._obj = await self._coro
                ^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 105, in run
    result = function()
sqlite3.OperationalError: near "', localtime'": syntax error
2025-05-21 01:05:48,118 - app.notification - INFO - Notification cycle completed in 0.02s
2025-05-21 01:05:48,158 - aiogram.dispatcher - INFO - Run polling for bot @pgunoticebot id=7708914926 - '$pgu_notice'
2025-05-21 01:05:58,127 - app.notification - INFO - Starting notification cycle
2025-05-21 01:05:58,132 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:05:58,133 - app.notification - ERROR - Error in check_test_changes: near "', localtime'": syntax error
Traceback (most recent call last):
  File "C:\Users\Shuti\TelegramBot\app\notification.py", line 130, in check_test_changes
    async with db_connection.execute(query, [last_check_str]*6) as cursor:
               ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\context.py", line 41, in __aenter__
    self._obj = await self._coro
                ^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 105, in run
    result = function()
sqlite3.OperationalError: near "', localtime'": syntax error
2025-05-21 01:05:58,137 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 01:05:58,137 - app.notification - ERROR - Error in tracker main loop: near "', localtime'": syntax error
Traceback (most recent call last):
  File "C:\Users\Shuti\TelegramBot\app\notification.py", line 79, in track_changes
    await check_test_changes(conn, bot, tracker, semaphore, current_check_time, last_check_str)
  File "C:\Users\Shuti\TelegramBot\app\notification.py", line 130, in check_test_changes
    async with db_connection.execute(query, [last_check_str]*6) as cursor:
               ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\context.py", line 41, in __aenter__
    self._obj = await self._coro
                ^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\Shuti\TelegramBot\.venv\Lib\site-packages\aiosqlite\core.py", line 105, in run
    result = function()
sqlite3.OperationalError: near "', localtime'": syntax error
2025-05-21 01:06:00,281 - aiogram.dispatcher - INFO - Polling stopped
2025-05-21 01:06:00,282 - app.notification - INFO - Notification service stopped
2025-05-21 01:06:00,284 - app.notification - INFO - Database connection closed
2025-05-21 01:06:00,537 - app.db_manager - INFO - Database connection closed
2025-05-21 01:06:00,538 - __main__ - INFO - Бот успешно завершил работу
2025-05-21 01:06:00,539 - aiogram.dispatcher - INFO - Polling stopped for bot @pgunoticebot id=7708914926 - '$pgu_notice'
2025-05-21 01:06:00,542 - __main__ - INFO - Бот остановлен по запросу пользователя
2025-05-21 01:06:00,543 - __main__ - INFO - Работа бота завершена
2025-05-21 01:07:13,845 - __main__ - INFO - Бот запускается
2025-05-21 01:07:14,083 - app.db_manager - INFO - Database connection established
2025-05-21 01:07:14,268 - app.notification - INFO - ChangeTracker initialized, last_check_time: 2025-05-21 01:07:14
2025-05-21 01:07:14,270 - aiogram.dispatcher - INFO - Start polling
2025-05-21 01:07:14,271 - app.notification - INFO - Starting notification cycle
2025-05-21 01:07:14,273 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:07:14,277 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 01:07:14,279 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 01:07:14,327 - aiogram.dispatcher - INFO - Run polling for bot @pgunoticebot id=7708914926 - '$pgu_notice'
2025-05-21 01:07:19,300 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:07:19,302 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 01:07:24,279 - app.notification - INFO - Starting notification cycle
2025-05-21 01:07:24,285 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 01:07:24,320 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:07:24,325 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 01:07:28,006 - aiogram.dispatcher - INFO - Polling stopped
2025-05-21 01:07:28,006 - app.notification - INFO - Notification service stopped
2025-05-21 01:07:28,007 - app.notification - INFO - Database connection closed
2025-05-21 01:07:28,260 - app.db_manager - INFO - Database connection closed
2025-05-21 01:07:28,260 - __main__ - INFO - Бот успешно завершил работу
2025-05-21 01:07:28,260 - aiogram.dispatcher - INFO - Polling stopped for bot @pgunoticebot id=7708914926 - '$pgu_notice'
2025-05-21 01:07:28,262 - __main__ - INFO - Бот остановлен по запросу пользователя
2025-05-21 01:07:28,262 - __main__ - INFO - Работа бота завершена
2025-05-21 01:12:54,678 - __main__ - INFO - Бот запускается
2025-05-21 01:12:54,883 - app.db_manager - INFO - Database connection established
2025-05-21 01:12:55,109 - app.notification - INFO - ChangeTracker initialized, last_check_time: 2025-05-21 01:12:55
2025-05-21 01:12:55,110 - aiogram.dispatcher - INFO - Start polling
2025-05-21 01:12:55,112 - app.notification - INFO - Starting notification cycle
2025-05-21 01:12:55,115 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:12:55,117 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 01:12:55,118 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 01:12:55,184 - aiogram.dispatcher - INFO - Run polling for bot @pgunoticebot id=7708914926 - '$pgu_notice'
2025-05-21 01:13:00,125 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:13:00,127 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 01:13:05,124 - app.notification - INFO - Starting notification cycle
2025-05-21 01:13:05,131 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 01:13:05,134 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:13:05,137 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 01:13:07,552 - aiogram.event - INFO - Update id=804788634 is handled. Duration 252 ms by bot id=7708914926
2025-05-21 01:13:09,904 - aiogram.event - INFO - Update id=804788635 is handled. Duration 111 ms by bot id=7708914926
2025-05-21 01:13:10,151 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:13:10,154 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 01:13:11,218 - aiogram.event - INFO - Update id=804788636 is handled. Duration 129 ms by bot id=7708914926
2025-05-21 01:13:15,145 - app.notification - INFO - Starting notification cycle
2025-05-21 01:13:15,152 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 01:13:15,161 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:13:15,167 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 01:13:19,427 - aiogram.event - INFO - Update id=804788637 is handled. Duration 127 ms by bot id=7708914926
2025-05-21 01:13:20,179 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:13:20,183 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 01:13:20,869 - aiogram.event - INFO - Update id=804788638 is handled. Duration 118 ms by bot id=7708914926
2025-05-21 01:13:25,167 - app.notification - INFO - Starting notification cycle
2025-05-21 01:13:25,171 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-21 01:13:25,202 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:13:25,207 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 01:13:27,651 - aiogram.event - INFO - Update id=804788639 is handled. Duration 123 ms by bot id=7708914926
2025-05-21 01:13:30,227 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:13:30,232 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 01:13:35,179 - app.notification - INFO - Starting notification cycle
2025-05-21 01:13:35,184 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 01:13:35,239 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:13:35,240 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 01:13:40,260 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:13:40,263 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 01:13:45,201 - app.notification - INFO - Starting notification cycle
2025-05-21 01:13:45,209 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 01:13:45,272 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:13:45,274 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 01:13:50,292 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:13:50,295 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 01:13:55,209 - app.notification - INFO - Starting notification cycle
2025-05-21 01:13:55,228 - app.notification - INFO - Notification cycle completed in 0.02s
2025-05-21 01:13:55,308 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:13:55,313 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 01:13:55,352 - aiogram.event - INFO - Update id=804788640 is handled. Duration 147 ms by bot id=7708914926
2025-05-21 01:13:57,012 - aiogram.event - INFO - Update id=804788641 is handled. Duration 224 ms by bot id=7708914926
2025-05-21 01:13:59,011 - aiogram.event - INFO - Update id=804788642 is handled. Duration 204 ms by bot id=7708914926
2025-05-21 01:14:00,062 - aiogram.event - INFO - Update id=804788643 is handled. Duration 140 ms by bot id=7708914926
2025-05-21 01:14:00,322 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:14:00,325 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 01:14:02,513 - aiogram.event - INFO - Update id=804788644 is handled. Duration 129 ms by bot id=7708914926
2025-05-21 01:14:05,246 - app.notification - INFO - Starting notification cycle
2025-05-21 01:14:05,249 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-21 01:14:05,338 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:14:05,342 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 01:14:07,697 - aiogram.event - INFO - Update id=804788645 is handled. Duration 147 ms by bot id=7708914926
2025-05-21 01:14:10,357 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:14:10,364 - app.notification - INFO - Found 1 test changes to process
2025-05-21 01:14:10,367 - app.notification - INFO - Change tracking completed in 0.01s
2025-05-21 01:14:15,256 - app.notification - INFO - Starting notification cycle
2025-05-21 01:14:15,259 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-21 01:14:15,385 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:14:15,387 - app.notification - INFO - Found 1 test changes to process
2025-05-21 01:14:15,391 - app.notification - INFO - Change tracking completed in 0.01s
2025-05-21 01:14:20,400 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:14:20,403 - app.notification - INFO - Found 1 test changes to process
2025-05-21 01:14:20,405 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 01:14:25,276 - app.notification - INFO - Starting notification cycle
2025-05-21 01:14:25,280 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-21 01:14:25,418 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:14:25,420 - app.notification - INFO - Found 1 test changes to process
2025-05-21 01:14:25,424 - app.notification - INFO - Change tracking completed in 0.01s
2025-05-21 01:14:30,432 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:14:30,434 - app.notification - INFO - Found 1 test changes to process
2025-05-21 01:14:30,436 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 01:14:35,287 - app.notification - INFO - Starting notification cycle
2025-05-21 01:14:35,291 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-21 01:14:35,450 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:14:35,453 - app.notification - INFO - Found 1 test changes to process
2025-05-21 01:14:35,456 - app.notification - INFO - Change tracking completed in 0.01s
2025-05-21 01:14:40,464 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:14:40,466 - app.notification - INFO - Found 1 test changes to process
2025-05-21 01:14:40,468 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 01:14:43,998 - aiogram.event - INFO - Update id=804788646 is handled. Duration 116 ms by bot id=7708914926
2025-05-21 01:14:45,293 - app.notification - INFO - Starting notification cycle
2025-05-21 01:14:45,299 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 01:14:45,480 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:14:45,482 - app.notification - INFO - Found 1 test changes to process
2025-05-21 01:14:45,485 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 01:14:48,162 - aiogram.event - INFO - Update id=804788647 is handled. Duration 109 ms by bot id=7708914926
2025-05-21 01:14:50,509 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:14:50,511 - app.notification - INFO - Found 1 test changes to process
2025-05-21 01:14:50,562 - aiogram.event - INFO - Update id=804788648 is handled. Duration 335 ms by bot id=7708914926
2025-05-21 01:14:50,741 - app.notification - INFO - Sent 1 test notifications, 0 errors in 0.23s
2025-05-21 01:14:50,744 - app.notification - INFO - Change tracking completed in 0.23s
2025-05-21 01:14:55,307 - app.notification - INFO - Starting notification cycle
2025-05-21 01:14:55,313 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 01:14:55,753 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:14:55,755 - app.notification - INFO - Found 1 test changes to process
2025-05-21 01:14:55,757 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 01:14:59,419 - aiogram.event - INFO - Update id=804788649 is handled. Duration 117 ms by bot id=7708914926
2025-05-21 01:15:00,778 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:15:00,781 - app.notification - INFO - Found 1 test changes to process
2025-05-21 01:15:00,785 - app.notification - INFO - Change tracking completed in 0.01s
2025-05-21 01:15:01,078 - aiogram.event - INFO - Update id=804788650 is handled. Duration 221 ms by bot id=7708914926
2025-05-21 01:15:02,313 - aiogram.event - INFO - Update id=804788651 is handled. Duration 158 ms by bot id=7708914926
2025-05-21 01:15:05,329 - app.notification - INFO - Starting notification cycle
2025-05-21 01:15:05,332 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-21 01:15:05,802 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:15:05,805 - app.notification - INFO - Found 1 test changes to process
2025-05-21 01:15:05,903 - app.notification - INFO - Sent 1 test notifications, 0 errors in 0.10s
2025-05-21 01:15:05,905 - app.notification - INFO - Change tracking completed in 0.10s
2025-05-21 01:15:10,688 - aiogram.event - INFO - Update id=804788652 is handled. Duration 124 ms by bot id=7708914926
2025-05-21 01:15:10,927 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:15:10,930 - app.notification - INFO - Found 1 test changes to process
2025-05-21 01:15:10,933 - app.notification - INFO - Change tracking completed in 0.01s
2025-05-21 01:15:12,059 - aiogram.event - INFO - Update id=804788653 is handled. Duration 113 ms by bot id=7708914926
2025-05-21 01:15:13,506 - aiogram.event - INFO - Update id=804788654 is handled. Duration 119 ms by bot id=7708914926
2025-05-21 01:15:15,339 - app.notification - INFO - Starting notification cycle
2025-05-21 01:15:15,345 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 01:15:15,362 - aiogram.event - INFO - Update id=804788655 is handled. Duration 211 ms by bot id=7708914926
2025-05-21 01:15:15,946 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:15:15,948 - app.notification - INFO - Found 1 test changes to process
2025-05-21 01:15:15,951 - app.notification - INFO - Change tracking completed in 0.01s
2025-05-21 01:15:17,814 - aiogram.event - INFO - Update id=804788656 is handled. Duration 279 ms by bot id=7708914926
2025-05-21 01:15:18,946 - aiogram.event - INFO - Update id=804788657 is handled. Duration 179 ms by bot id=7708914926
2025-05-21 01:15:20,971 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:15:20,973 - app.notification - INFO - Found 1 test changes to process
2025-05-21 01:15:20,976 - app.notification - INFO - Change tracking completed in 0.01s
2025-05-21 01:15:24,515 - aiogram.event - INFO - Update id=804788658 is handled. Duration 124 ms by bot id=7708914926
2025-05-21 01:15:25,346 - app.notification - INFO - Starting notification cycle
2025-05-21 01:15:25,351 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-21 01:15:25,994 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:15:25,997 - app.notification - INFO - Found 1 test changes to process
2025-05-21 01:15:26,001 - app.notification - INFO - Change tracking completed in 0.01s
2025-05-21 01:15:31,019 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:15:31,021 - app.notification - INFO - Found 1 test changes to process
2025-05-21 01:15:31,023 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 01:15:32,253 - aiogram.event - INFO - Update id=804788659 is handled. Duration 222 ms by bot id=7708914926
2025-05-21 01:15:35,356 - app.notification - INFO - Starting notification cycle
2025-05-21 01:15:35,359 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-21 01:15:36,041 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:15:36,043 - app.notification - INFO - Found 2 test changes to process
2025-05-21 01:15:36,125 - app.notification - INFO - Sent 1 test notifications, 0 errors in 0.08s
2025-05-21 01:15:36,127 - app.notification - INFO - Change tracking completed in 0.09s
2025-05-21 01:15:41,137 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:15:41,139 - app.notification - INFO - Found 2 test changes to process
2025-05-21 01:15:41,141 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 01:15:45,361 - app.notification - INFO - Starting notification cycle
2025-05-21 01:15:45,366 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 01:15:46,156 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:15:46,159 - app.notification - INFO - Found 2 test changes to process
2025-05-21 01:15:46,163 - app.notification - INFO - Change tracking completed in 0.01s
2025-05-21 01:15:47,699 - aiogram.event - INFO - Update id=804788660 is handled. Duration 136 ms by bot id=7708914926
2025-05-21 01:15:49,602 - aiogram.event - INFO - Update id=804788661 is handled. Duration 148 ms by bot id=7708914926
2025-05-21 01:15:51,172 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:15:51,175 - app.notification - INFO - Found 2 test changes to process
2025-05-21 01:15:51,178 - app.notification - INFO - Change tracking completed in 0.01s
2025-05-21 01:15:51,190 - aiogram.event - INFO - Update id=804788662 is handled. Duration 149 ms by bot id=7708914926
2025-05-21 01:15:53,910 - aiogram.event - INFO - Update id=804788663 is handled. Duration 342 ms by bot id=7708914926
2025-05-21 01:15:55,377 - app.notification - INFO - Starting notification cycle
2025-05-21 01:15:55,381 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-21 01:15:55,678 - aiogram.event - INFO - Update id=804788664 is handled. Duration 126 ms by bot id=7708914926
2025-05-21 01:15:56,193 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:15:56,196 - app.notification - INFO - Found 2 test changes to process
2025-05-21 01:15:56,199 - app.notification - INFO - Change tracking completed in 0.01s
2025-05-21 01:15:57,105 - aiogram.event - INFO - Update id=804788665 is handled. Duration 129 ms by bot id=7708914926
2025-05-21 01:16:01,207 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:16:01,209 - app.notification - INFO - Found 2 test changes to process
2025-05-21 01:16:01,219 - app.notification - ERROR - Error in check_debt_changes: tuple indices must be integers or slices, not str
Traceback (most recent call last):
  File "C:\Users\Shuti\TelegramBot\app\notification.py", line 274, in check_debt_changes
    change_time = convert_db_time(row['change_time'])
                                  ~~~^^^^^^^^^^^^^^^
TypeError: tuple indices must be integers or slices, not str
2025-05-21 01:16:01,223 - aiogram.event - INFO - Update id=804788666 is handled. Duration 182 ms by bot id=7708914926
2025-05-21 01:16:01,224 - app.notification - ERROR - Error in tracker main loop: tuple indices must be integers or slices, not str
Traceback (most recent call last):
  File "C:\Users\Shuti\TelegramBot\app\notification.py", line 80, in track_changes
    await check_debt_changes(conn, bot, tracker, semaphore, current_check_time, last_check_str)
  File "C:\Users\Shuti\TelegramBot\app\notification.py", line 274, in check_debt_changes
    change_time = convert_db_time(row['change_time'])
                                  ~~~^^^^^^^^^^^^^^^
TypeError: tuple indices must be integers or slices, not str
2025-05-21 01:16:05,393 - app.notification - INFO - Starting notification cycle
2025-05-21 01:16:05,398 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-21 01:16:11,230 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:16:11,232 - app.notification - INFO - Found 2 test changes to process
2025-05-21 01:16:11,234 - app.notification - ERROR - Error in check_debt_changes: tuple indices must be integers or slices, not str
Traceback (most recent call last):
  File "C:\Users\Shuti\TelegramBot\app\notification.py", line 274, in check_debt_changes
    change_time = convert_db_time(row['change_time'])
                                  ~~~^^^^^^^^^^^^^^^
TypeError: tuple indices must be integers or slices, not str
2025-05-21 01:16:11,236 - app.notification - ERROR - Error in tracker main loop: tuple indices must be integers or slices, not str
Traceback (most recent call last):
  File "C:\Users\Shuti\TelegramBot\app\notification.py", line 80, in track_changes
    await check_debt_changes(conn, bot, tracker, semaphore, current_check_time, last_check_str)
  File "C:\Users\Shuti\TelegramBot\app\notification.py", line 274, in check_debt_changes
    change_time = convert_db_time(row['change_time'])
                                  ~~~^^^^^^^^^^^^^^^
TypeError: tuple indices must be integers or slices, not str
2025-05-21 01:16:12,983 - aiogram.event - INFO - Update id=804788667 is handled. Duration 142 ms by bot id=7708914926
2025-05-21 01:16:14,846 - aiogram.dispatcher - INFO - Polling stopped
2025-05-21 01:16:14,847 - app.notification - INFO - Notification service stopped
2025-05-21 01:16:14,848 - app.notification - INFO - Database connection closed
2025-05-21 01:16:15,112 - app.db_manager - INFO - Database connection closed
2025-05-21 01:16:15,112 - __main__ - INFO - Бот успешно завершил работу
2025-05-21 01:16:15,113 - aiogram.dispatcher - INFO - Polling stopped for bot @pgunoticebot id=7708914926 - '$pgu_notice'
2025-05-21 01:16:15,114 - __main__ - INFO - Бот остановлен по запросу пользователя
2025-05-21 01:16:15,114 - __main__ - INFO - Работа бота завершена
2025-05-21 01:22:31,658 - __main__ - INFO - Бот запускается
2025-05-21 01:22:31,862 - app.db_manager - INFO - Database connection established
2025-05-21 01:22:32,093 - app.notification - INFO - ChangeTracker initialized, last_check_time: 2025-05-21 01:22:32
2025-05-21 01:22:32,095 - aiogram.dispatcher - INFO - Start polling
2025-05-21 01:22:32,096 - app.notification - INFO - Starting notification cycle
2025-05-21 01:22:32,101 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:22:32,103 - app.notification - INFO - Found 2 test changes to process
2025-05-21 01:22:32,106 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 01:22:32,172 - aiogram.dispatcher - INFO - Run polling for bot @pgunoticebot id=7708914926 - '$pgu_notice'
2025-05-21 01:22:32,352 - app.notification - INFO - Sent 2 test notifications, 0 errors in 0.25s
2025-05-21 01:22:32,355 - app.notification - INFO - Found 1 debt changes to process
2025-05-21 01:22:32,441 - app.notification - INFO - Sent 1 debt notifications, 0 errors in 0.09s
2025-05-21 01:22:32,442 - app.notification - INFO - Change tracking completed in 0.34s
2025-05-21 01:22:34,739 - aiogram.dispatcher - INFO - Polling stopped
2025-05-21 01:22:34,739 - app.notification - INFO - Notification service stopped
2025-05-21 01:22:34,741 - app.notification - INFO - Database connection closed
2025-05-21 01:22:34,998 - app.db_manager - INFO - Database connection closed
2025-05-21 01:22:34,998 - __main__ - INFO - Бот успешно завершил работу
2025-05-21 01:22:34,999 - aiogram.dispatcher - INFO - Polling stopped for bot @pgunoticebot id=7708914926 - '$pgu_notice'
2025-05-21 01:22:35,002 - __main__ - INFO - Бот остановлен по запросу пользователя
2025-05-21 01:22:35,003 - __main__ - INFO - Работа бота завершена
2025-05-21 01:23:03,694 - __main__ - INFO - Бот запускается
2025-05-21 01:23:03,883 - app.db_manager - INFO - Database connection established
2025-05-21 01:23:04,101 - app.notification - INFO - ChangeTracker initialized, last_check_time: 2025-05-21 01:23:04
2025-05-21 01:23:04,103 - aiogram.dispatcher - INFO - Start polling
2025-05-21 01:23:04,104 - app.notification - INFO - Starting notification cycle
2025-05-21 01:23:04,108 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:23:04,110 - app.notification - INFO - Found 2 test changes to process
2025-05-21 01:23:04,112 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 01:23:04,177 - aiogram.dispatcher - INFO - Run polling for bot @pgunoticebot id=7708914926 - '$pgu_notice'
2025-05-21 01:23:04,384 - app.notification - INFO - Sent 2 test notifications, 0 errors in 0.28s
2025-05-21 01:23:04,386 - app.notification - ERROR - Error in check_debt_changes: tuple index out of range
Traceback (most recent call last):
  File "C:\Users\Shuti\TelegramBot\app\notification.py", line 274, in check_debt_changes
    change_time = convert_db_time(row[8])
                                  ~~~^^^
IndexError: tuple index out of range
2025-05-21 01:23:04,390 - app.notification - ERROR - Error in tracker main loop: tuple index out of range
Traceback (most recent call last):
  File "C:\Users\Shuti\TelegramBot\app\notification.py", line 80, in track_changes
    await check_debt_changes(conn, bot, tracker, semaphore, current_check_time, last_check_str)
  File "C:\Users\Shuti\TelegramBot\app\notification.py", line 274, in check_debt_changes
    change_time = convert_db_time(row[8])
                                  ~~~^^^
IndexError: tuple index out of range
2025-05-21 01:23:11,781 - aiogram.dispatcher - INFO - Polling stopped
2025-05-21 01:23:11,782 - app.notification - INFO - Notification service stopped
2025-05-21 01:23:11,784 - app.notification - INFO - Database connection closed
2025-05-21 01:23:12,042 - app.db_manager - INFO - Database connection closed
2025-05-21 01:23:12,043 - __main__ - INFO - Бот успешно завершил работу
2025-05-21 01:23:12,043 - aiogram.dispatcher - INFO - Polling stopped for bot @pgunoticebot id=7708914926 - '$pgu_notice'
2025-05-21 01:23:12,045 - __main__ - INFO - Бот остановлен по запросу пользователя
2025-05-21 01:23:12,046 - __main__ - INFO - Работа бота завершена
2025-05-21 01:26:42,482 - __main__ - INFO - Бот запускается
2025-05-21 01:26:42,680 - app.db_manager - INFO - Database connection established
2025-05-21 01:26:42,887 - app.notification - INFO - ChangeTracker initialized, last_check_time: 2025-05-21 01:26:42
2025-05-21 01:26:42,888 - aiogram.dispatcher - INFO - Start polling
2025-05-21 01:26:42,890 - app.notification - INFO - Starting notification cycle
2025-05-21 01:26:42,908 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:26:42,911 - app.notification - INFO - Found 2 test changes to process
2025-05-21 01:26:42,924 - app.notification - INFO - Notification cycle completed in 0.03s
2025-05-21 01:26:42,952 - aiogram.dispatcher - INFO - Run polling for bot @pgunoticebot id=7708914926 - '$pgu_notice'
2025-05-21 01:26:43,155 - app.notification - INFO - Sent 2 test notifications, 0 errors in 0.25s
2025-05-21 01:26:43,158 - app.notification - INFO - Found 1 debt changes to process
2025-05-21 01:26:43,235 - app.notification - INFO - Sent 1 debt notifications, 0 errors in 0.08s
2025-05-21 01:26:43,236 - app.notification - INFO - Change tracking completed in 0.33s
2025-05-21 01:26:48,249 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:26:48,252 - app.notification - INFO - Found 2 test changes to process
2025-05-21 01:26:48,255 - app.notification - INFO - Found 1 debt changes to process
2025-05-21 01:26:48,257 - app.notification - INFO - Change tracking completed in 0.01s
2025-05-21 01:26:52,931 - app.notification - INFO - Starting notification cycle
2025-05-21 01:26:52,935 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-21 01:26:53,272 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:26:53,274 - app.notification - INFO - Found 2 test changes to process
2025-05-21 01:26:53,276 - app.notification - INFO - Found 1 debt changes to process
2025-05-21 01:26:53,277 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 01:26:58,296 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:26:58,298 - app.notification - INFO - Found 2 test changes to process
2025-05-21 01:26:58,300 - app.notification - INFO - Found 1 debt changes to process
2025-05-21 01:26:58,301 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 01:27:02,948 - app.notification - INFO - Starting notification cycle
2025-05-21 01:27:02,951 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-21 01:27:03,322 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:27:03,324 - app.notification - INFO - Found 2 test changes to process
2025-05-21 01:27:03,327 - app.notification - INFO - Found 1 debt changes to process
2025-05-21 01:27:03,328 - app.notification - INFO - Change tracking completed in 0.01s
2025-05-21 01:27:08,342 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:27:08,344 - app.notification - INFO - Found 2 test changes to process
2025-05-21 01:27:08,348 - app.notification - INFO - Found 1 debt changes to process
2025-05-21 01:27:08,350 - app.notification - INFO - Change tracking completed in 0.01s
2025-05-21 01:27:12,954 - app.notification - INFO - Starting notification cycle
2025-05-21 01:27:12,958 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-21 01:27:13,372 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:27:13,375 - app.notification - INFO - Found 2 test changes to process
2025-05-21 01:27:13,376 - app.notification - INFO - Found 1 debt changes to process
2025-05-21 01:27:13,378 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 01:27:18,393 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:27:18,395 - app.notification - INFO - Found 2 test changes to process
2025-05-21 01:27:18,398 - app.notification - INFO - Found 1 debt changes to process
2025-05-21 01:27:18,400 - app.notification - INFO - Change tracking completed in 0.01s
2025-05-21 01:27:22,969 - app.notification - INFO - Starting notification cycle
2025-05-21 01:27:22,975 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 01:27:23,411 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:27:23,413 - app.notification - INFO - Found 2 test changes to process
2025-05-21 01:27:23,417 - app.notification - INFO - Found 1 debt changes to process
2025-05-21 01:27:23,419 - app.notification - INFO - Change tracking completed in 0.01s
2025-05-21 01:27:28,437 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:27:28,439 - app.notification - INFO - Found 2 test changes to process
2025-05-21 01:27:28,441 - app.notification - INFO - Found 1 debt changes to process
2025-05-21 01:27:28,442 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 01:27:32,988 - app.notification - INFO - Starting notification cycle
2025-05-21 01:27:32,993 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 01:27:33,464 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:27:33,467 - app.notification - INFO - Found 2 test changes to process
2025-05-21 01:27:33,468 - app.notification - INFO - Found 1 debt changes to process
2025-05-21 01:27:33,473 - app.notification - INFO - Change tracking completed in 0.01s
2025-05-21 01:27:38,492 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:27:38,495 - app.notification - INFO - Found 2 test changes to process
2025-05-21 01:27:38,499 - app.notification - INFO - Found 1 debt changes to process
2025-05-21 01:27:38,501 - app.notification - INFO - Change tracking completed in 0.01s
2025-05-21 01:27:41,449 - aiogram.event - INFO - Update id=804788668 is handled. Duration 144 ms by bot id=7708914926
2025-05-21 01:27:42,996 - app.notification - INFO - Starting notification cycle
2025-05-21 01:27:43,003 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 01:27:43,509 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:27:43,511 - app.notification - INFO - Found 2 test changes to process
2025-05-21 01:27:43,513 - app.notification - INFO - Found 1 debt changes to process
2025-05-21 01:27:43,514 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 01:27:48,524 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:27:48,526 - app.notification - INFO - Found 2 test changes to process
2025-05-21 01:27:48,528 - app.notification - INFO - Found 1 debt changes to process
2025-05-21 01:27:48,529 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 01:27:50,765 - aiogram.event - INFO - Update id=804788669 is handled. Duration 91 ms by bot id=7708914926
2025-05-21 01:27:51,600 - aiogram.event - INFO - Update id=804788670 is handled. Duration 128 ms by bot id=7708914926
2025-05-21 01:27:53,006 - app.notification - INFO - Starting notification cycle
2025-05-21 01:27:53,012 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 01:27:53,539 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:27:53,541 - app.notification - INFO - Found 2 test changes to process
2025-05-21 01:27:53,545 - app.notification - INFO - Found 1 debt changes to process
2025-05-21 01:27:53,546 - app.notification - INFO - Change tracking completed in 0.01s
2025-05-21 01:27:56,906 - aiogram.event - INFO - Update id=804788671 is handled. Duration 131 ms by bot id=7708914926
2025-05-21 01:27:58,560 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:27:58,563 - app.notification - INFO - Found 2 test changes to process
2025-05-21 01:27:58,565 - app.notification - INFO - Found 1 debt changes to process
2025-05-21 01:27:58,566 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 01:27:59,043 - aiogram.event - INFO - Update id=804788672 is handled. Duration 127 ms by bot id=7708914926
2025-05-21 01:28:00,568 - aiogram.event - INFO - Update id=804788673 is handled. Duration 115 ms by bot id=7708914926
2025-05-21 01:28:02,378 - aiogram.event - INFO - Update id=804788674 is handled. Duration 127 ms by bot id=7708914926
2025-05-21 01:28:03,017 - app.notification - INFO - Starting notification cycle
2025-05-21 01:28:03,026 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 01:28:03,581 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:28:03,587 - app.notification - INFO - Found 2 test changes to process
2025-05-21 01:28:03,592 - app.notification - INFO - Found 1 debt changes to process
2025-05-21 01:28:03,593 - app.notification - INFO - Change tracking completed in 0.01s
2025-05-21 01:28:04,588 - aiogram.event - INFO - Update id=804788675 is handled. Duration 300 ms by bot id=7708914926
2025-05-21 01:28:06,407 - aiogram.event - INFO - Update id=804788676 is handled. Duration 248 ms by bot id=7708914926
2025-05-21 01:28:08,608 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:28:08,610 - app.notification - INFO - Found 2 test changes to process
2025-05-21 01:28:08,715 - app.notification - INFO - Sent 1 test notifications, 0 errors in 0.11s
2025-05-21 01:28:08,718 - app.notification - INFO - Found 1 debt changes to process
2025-05-21 01:28:08,720 - app.notification - INFO - Change tracking completed in 0.11s
2025-05-21 01:28:13,042 - app.notification - INFO - Starting notification cycle
2025-05-21 01:28:13,049 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 01:28:13,737 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:28:13,740 - app.notification - INFO - Found 2 test changes to process
2025-05-21 01:28:13,743 - app.notification - INFO - Found 1 debt changes to process
2025-05-21 01:28:13,745 - app.notification - INFO - Change tracking completed in 0.01s
2025-05-21 01:28:13,887 - aiogram.event - INFO - Update id=804788677 is handled. Duration 208 ms by bot id=7708914926
2025-05-21 01:28:15,404 - aiogram.event - INFO - Update id=804788678 is handled. Duration 197 ms by bot id=7708914926
2025-05-21 01:28:18,172 - aiogram.event - INFO - Update id=804788679 is handled. Duration 120 ms by bot id=7708914926
2025-05-21 01:28:18,762 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:28:18,765 - app.notification - INFO - Found 2 test changes to process
2025-05-21 01:28:18,769 - app.notification - INFO - Found 1 debt changes to process
2025-05-21 01:28:18,771 - app.notification - INFO - Change tracking completed in 0.01s
2025-05-21 01:28:21,821 - aiogram.event - INFO - Update id=804788680 is handled. Duration 117 ms by bot id=7708914926
2025-05-21 01:28:23,059 - app.notification - INFO - Starting notification cycle
2025-05-21 01:28:23,066 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 01:28:23,787 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:28:23,789 - app.notification - INFO - Found 2 test changes to process
2025-05-21 01:28:23,793 - app.notification - INFO - Found 1 debt changes to process
2025-05-21 01:28:23,888 - app.notification - INFO - Sent 1 debt notifications, 0 errors in 0.10s
2025-05-21 01:28:23,889 - app.notification - INFO - Change tracking completed in 0.10s
2025-05-21 01:28:27,176 - aiogram.event - INFO - Update id=804788681 is handled. Duration 94 ms by bot id=7708914926
2025-05-21 01:28:28,904 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:28:28,906 - app.notification - INFO - Found 2 test changes to process
2025-05-21 01:28:28,910 - app.notification - INFO - Found 1 debt changes to process
2025-05-21 01:28:28,911 - app.notification - INFO - Change tracking completed in 0.01s
2025-05-21 01:28:30,810 - aiogram.event - INFO - Update id=804788682 is handled. Duration 129 ms by bot id=7708914926
2025-05-21 01:28:32,090 - aiogram.event - INFO - Update id=804788683 is handled. Duration 156 ms by bot id=7708914926
2025-05-21 01:28:33,079 - app.notification - INFO - Starting notification cycle
2025-05-21 01:28:33,085 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 01:28:33,934 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:28:33,936 - app.notification - INFO - Found 2 test changes to process
2025-05-21 01:28:33,940 - app.notification - INFO - Found 1 debt changes to process
2025-05-21 01:28:33,942 - app.notification - INFO - Change tracking completed in 0.01s
2025-05-21 01:28:34,812 - aiogram.event - INFO - Update id=804788684 is handled. Duration 144 ms by bot id=7708914926
2025-05-21 01:28:38,962 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:28:38,964 - app.notification - INFO - Found 2 test changes to process
2025-05-21 01:28:38,966 - app.notification - INFO - Found 1 debt changes to process
2025-05-21 01:28:38,967 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 01:28:42,470 - aiogram.event - INFO - Update id=804788685 is handled. Duration 272 ms by bot id=7708914926
2025-05-21 01:28:43,094 - app.notification - INFO - Starting notification cycle
2025-05-21 01:28:43,102 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 01:28:43,983 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:28:43,985 - app.notification - INFO - Found 2 test changes to process
2025-05-21 01:28:43,989 - app.notification - INFO - Found 1 debt changes to process
2025-05-21 01:28:43,991 - app.notification - INFO - Change tracking completed in 0.01s
2025-05-21 01:28:46,209 - aiogram.event - INFO - Update id=804788686 is handled. Duration 305 ms by bot id=7708914926
2025-05-21 01:28:47,446 - aiogram.event - INFO - Update id=804788687 is handled. Duration 194 ms by bot id=7708914926
2025-05-21 01:28:49,006 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:28:49,008 - app.notification - INFO - Found 2 test changes to process
2025-05-21 01:28:49,010 - app.notification - INFO - Found 1 debt changes to process
2025-05-21 01:28:49,021 - app.notification - INFO - Change tracking completed in 0.01s
2025-05-21 01:28:50,139 - aiogram.event - INFO - Update id=804788688 is handled. Duration 157 ms by bot id=7708914926
2025-05-21 01:28:53,111 - app.notification - INFO - Starting notification cycle
2025-05-21 01:28:53,115 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-21 01:28:54,032 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:28:54,035 - app.notification - INFO - Found 2 test changes to process
2025-05-21 01:28:54,040 - app.notification - INFO - Found 1 debt changes to process
2025-05-21 01:28:54,042 - app.notification - INFO - Change tracking completed in 0.01s
2025-05-21 01:28:56,464 - aiogram.event - INFO - Update id=804788689 is handled. Duration 132 ms by bot id=7708914926
2025-05-21 01:28:59,050 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:28:59,052 - app.notification - INFO - Found 3 test changes to process
2025-05-21 01:28:59,135 - app.notification - INFO - Sent 1 test notifications, 0 errors in 0.08s
2025-05-21 01:28:59,138 - app.notification - INFO - Found 1 debt changes to process
2025-05-21 01:28:59,140 - app.notification - INFO - Change tracking completed in 0.09s
2025-05-21 01:29:03,126 - app.notification - INFO - Starting notification cycle
2025-05-21 01:29:03,130 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-21 01:29:04,162 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:29:04,164 - app.notification - INFO - Found 3 test changes to process
2025-05-21 01:29:04,168 - app.notification - INFO - Found 1 debt changes to process
2025-05-21 01:29:04,169 - app.notification - INFO - Change tracking completed in 0.01s
2025-05-21 01:29:09,190 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:29:09,193 - app.notification - INFO - Found 3 test changes to process
2025-05-21 01:29:09,195 - app.notification - INFO - Found 1 debt changes to process
2025-05-21 01:29:09,196 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 01:29:11,744 - aiogram.event - INFO - Update id=804788690 is handled. Duration 117 ms by bot id=7708914926
2025-05-21 01:29:13,136 - app.notification - INFO - Starting notification cycle
2025-05-21 01:29:13,143 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 01:29:14,211 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:29:14,215 - app.notification - INFO - Found 3 test changes to process
2025-05-21 01:29:14,220 - app.notification - INFO - Found 1 debt changes to process
2025-05-21 01:29:14,223 - app.notification - INFO - Change tracking completed in 0.01s
2025-05-21 01:29:18,854 - aiogram.event - INFO - Update id=804788691 is handled. Duration 128 ms by bot id=7708914926
2025-05-21 01:29:19,245 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:29:19,248 - app.notification - INFO - Found 3 test changes to process
2025-05-21 01:29:19,252 - app.notification - INFO - Found 1 debt changes to process
2025-05-21 01:29:19,254 - app.notification - INFO - Change tracking completed in 0.01s
2025-05-21 01:29:20,526 - aiogram.event - INFO - Update id=804788692 is handled. Duration 257 ms by bot id=7708914926
2025-05-21 01:29:23,144 - app.notification - INFO - Starting notification cycle
2025-05-21 01:29:23,178 - app.notification - INFO - Notification cycle completed in 0.03s
2025-05-21 01:29:23,370 - aiogram.event - INFO - Update id=804788693 is handled. Duration 275 ms by bot id=7708914926
2025-05-21 01:29:24,276 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:29:24,279 - app.notification - INFO - Found 3 test changes to process
2025-05-21 01:29:24,283 - app.notification - INFO - Found 1 debt changes to process
2025-05-21 01:29:24,285 - app.notification - INFO - Change tracking completed in 0.01s
2025-05-21 01:29:25,083 - aiogram.event - INFO - Update id=804788694 is handled. Duration 127 ms by bot id=7708914926
2025-05-21 01:29:27,057 - aiogram.event - INFO - Update id=804788695 is handled. Duration 139 ms by bot id=7708914926
2025-05-21 01:29:29,293 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:29:29,295 - app.notification - INFO - Found 3 test changes to process
2025-05-21 01:29:29,297 - app.notification - INFO - Found 1 debt changes to process
2025-05-21 01:29:29,298 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 01:29:33,189 - app.notification - INFO - Starting notification cycle
2025-05-21 01:29:33,193 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-21 01:29:34,308 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:29:34,311 - app.notification - INFO - Found 3 test changes to process
2025-05-21 01:29:34,314 - app.notification - INFO - Found 1 debt changes to process
2025-05-21 01:29:34,316 - app.notification - INFO - Change tracking completed in 0.01s
2025-05-21 01:29:37,319 - aiogram.event - INFO - Update id=804788696 is handled. Duration 136 ms by bot id=7708914926
2025-05-21 01:29:39,334 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:29:39,336 - app.notification - INFO - Found 4 test changes to process
2025-05-21 01:29:39,529 - app.notification - INFO - Sent 1 test notifications, 0 errors in 0.19s
2025-05-21 01:29:39,531 - app.notification - INFO - Found 1 debt changes to process
2025-05-21 01:29:39,533 - app.notification - INFO - Change tracking completed in 0.20s
2025-05-21 01:29:43,194 - app.notification - INFO - Starting notification cycle
2025-05-21 01:29:43,197 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-21 01:29:44,556 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:29:44,559 - app.notification - INFO - Found 4 test changes to process
2025-05-21 01:29:44,562 - app.notification - INFO - Found 1 debt changes to process
2025-05-21 01:29:44,564 - app.notification - INFO - Change tracking completed in 0.01s
2025-05-21 01:29:49,584 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:29:49,586 - app.notification - INFO - Found 4 test changes to process
2025-05-21 01:29:49,588 - app.notification - INFO - Found 1 debt changes to process
2025-05-21 01:29:49,589 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 01:29:53,203 - app.notification - INFO - Starting notification cycle
2025-05-21 01:29:53,208 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 01:29:54,602 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:29:54,605 - app.notification - INFO - Found 4 test changes to process
2025-05-21 01:29:54,609 - app.notification - INFO - Found 1 debt changes to process
2025-05-21 01:29:54,610 - app.notification - INFO - Change tracking completed in 0.01s
2025-05-21 01:29:59,627 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:29:59,628 - app.notification - INFO - Found 4 test changes to process
2025-05-21 01:29:59,630 - app.notification - INFO - Found 1 debt changes to process
2025-05-21 01:29:59,632 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 01:30:03,223 - app.notification - INFO - Starting notification cycle
2025-05-21 01:30:03,229 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 01:30:04,641 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:30:04,644 - app.notification - INFO - Found 4 test changes to process
2025-05-21 01:30:04,650 - app.notification - INFO - Found 1 debt changes to process
2025-05-21 01:30:04,652 - app.notification - INFO - Change tracking completed in 0.01s
2025-05-21 01:30:09,660 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:30:09,663 - app.notification - INFO - Found 4 test changes to process
2025-05-21 01:30:09,666 - app.notification - INFO - Found 1 debt changes to process
2025-05-21 01:30:09,668 - app.notification - INFO - Change tracking completed in 0.01s
2025-05-21 01:30:13,245 - app.notification - INFO - Starting notification cycle
2025-05-21 01:30:13,253 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 01:30:14,679 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:30:14,681 - app.notification - INFO - Found 4 test changes to process
2025-05-21 01:30:14,683 - app.notification - INFO - Found 1 debt changes to process
2025-05-21 01:30:14,685 - app.notification - INFO - Change tracking completed in 0.01s
2025-05-21 01:30:19,704 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:30:19,706 - app.notification - INFO - Found 4 test changes to process
2025-05-21 01:30:19,708 - app.notification - INFO - Found 1 debt changes to process
2025-05-21 01:30:19,709 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 01:30:22,556 - aiogram.event - INFO - Update id=804788697 is handled. Duration 126 ms by bot id=7708914926
2025-05-21 01:30:23,257 - app.notification - INFO - Starting notification cycle
2025-05-21 01:30:23,263 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 01:30:23,984 - aiogram.event - INFO - Update id=804788698 is handled. Duration 136 ms by bot id=7708914926
2025-05-21 01:30:24,718 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:30:24,720 - app.notification - INFO - Found 4 test changes to process
2025-05-21 01:30:24,724 - app.notification - INFO - Found 1 debt changes to process
2025-05-21 01:30:24,725 - app.notification - INFO - Change tracking completed in 0.01s
2025-05-21 01:30:25,238 - aiogram.event - INFO - Update id=804788699 is handled. Duration 216 ms by bot id=7708914926
2025-05-21 01:30:27,261 - aiogram.event - INFO - Update id=804788700 is handled. Duration 245 ms by bot id=7708914926
2025-05-21 01:30:28,636 - aiogram.event - INFO - Update id=804788701 is handled. Duration 141 ms by bot id=7708914926
2025-05-21 01:30:29,749 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:30:29,752 - app.notification - INFO - Found 4 test changes to process
2025-05-21 01:30:29,756 - app.notification - INFO - Found 1 debt changes to process
2025-05-21 01:30:29,757 - app.notification - INFO - Change tracking completed in 0.01s
2025-05-21 01:30:31,068 - aiogram.event - INFO - Update id=804788702 is handled. Duration 146 ms by bot id=7708914926
2025-05-21 01:30:33,280 - app.notification - INFO - Starting notification cycle
2025-05-21 01:30:33,283 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-21 01:30:34,773 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:30:34,776 - app.notification - INFO - Found 4 test changes to process
2025-05-21 01:30:34,778 - app.notification - INFO - Found 1 debt changes to process
2025-05-21 01:30:34,778 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 01:30:37,790 - aiogram.event - INFO - Update id=804788703 is handled. Duration 133 ms by bot id=7708914926
2025-05-21 01:30:39,788 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:30:39,791 - app.notification - INFO - Found 5 test changes to process
2025-05-21 01:30:39,870 - app.notification - INFO - Sent 1 test notifications, 0 errors in 0.08s
2025-05-21 01:30:39,874 - app.notification - INFO - Found 1 debt changes to process
2025-05-21 01:30:39,876 - app.notification - INFO - Change tracking completed in 0.09s
2025-05-21 01:30:43,286 - app.notification - INFO - Starting notification cycle
2025-05-21 01:30:43,490 - app.notification - INFO - Test reminder 5 sent to 1 users
2025-05-21 01:30:43,493 - app.notification - INFO - Notification cycle completed in 0.21s
2025-05-21 01:30:44,897 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:30:44,899 - app.notification - INFO - Found 5 test changes to process
2025-05-21 01:30:44,903 - app.notification - INFO - Found 1 debt changes to process
2025-05-21 01:30:44,905 - app.notification - INFO - Change tracking completed in 0.01s
2025-05-21 01:30:47,308 - aiogram.event - INFO - Update id=804788704 is handled. Duration 130 ms by bot id=7708914926
2025-05-21 01:30:49,038 - aiogram.event - INFO - Update id=804788705 is handled. Duration 192 ms by bot id=7708914926
2025-05-21 01:30:49,912 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:30:49,915 - app.notification - INFO - Found 5 test changes to process
2025-05-21 01:30:49,919 - app.notification - INFO - Found 1 debt changes to process
2025-05-21 01:30:49,921 - app.notification - INFO - Change tracking completed in 0.01s
2025-05-21 01:30:52,069 - aiogram.event - INFO - Update id=804788706 is handled. Duration 139 ms by bot id=7708914926
2025-05-21 01:30:53,505 - app.notification - INFO - Starting notification cycle
2025-05-21 01:30:53,512 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 01:30:54,936 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:30:54,938 - app.notification - INFO - Found 5 test changes to process
2025-05-21 01:30:54,988 - aiogram.event - INFO - Update id=804788707 is handled. Duration 202 ms by bot id=7708914926
2025-05-21 01:30:55,254 - app.notification - INFO - Sent 1 test notifications, 0 errors in 0.32s
2025-05-21 01:30:55,259 - app.notification - INFO - Found 1 debt changes to process
2025-05-21 01:30:55,261 - app.notification - INFO - Change tracking completed in 0.32s
2025-05-21 01:30:57,496 - aiogram.event - INFO - Update id=804788708 is handled. Duration 375 ms by bot id=7708914926
2025-05-21 01:30:58,101 - aiogram.event - INFO - Update id=804788709 is handled. Duration 145 ms by bot id=7708914926
2025-05-21 01:30:59,571 - aiogram.event - INFO - Update id=804788710 is handled. Duration 238 ms by bot id=7708914926
2025-05-21 01:31:00,281 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:31:00,284 - app.notification - INFO - Found 5 test changes to process
2025-05-21 01:31:00,373 - app.notification - INFO - Sent 1 test notifications, 0 errors in 0.09s
2025-05-21 01:31:00,376 - app.notification - INFO - Found 1 debt changes to process
2025-05-21 01:31:00,377 - app.notification - INFO - Change tracking completed in 0.10s
2025-05-21 01:31:01,484 - aiogram.event - INFO - Update id=804788711 is handled. Duration 121 ms by bot id=7708914926
2025-05-21 01:31:03,514 - app.notification - INFO - Starting notification cycle
2025-05-21 01:31:03,521 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 01:31:03,875 - aiogram.event - INFO - Update id=804788712 is handled. Duration 210 ms by bot id=7708914926
2025-05-21 01:31:04,955 - aiogram.event - INFO - Update id=804788713 is handled. Duration 130 ms by bot id=7708914926
2025-05-21 01:31:05,397 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:31:05,399 - app.notification - INFO - Found 5 test changes to process
2025-05-21 01:31:05,489 - app.notification - INFO - Sent 1 test notifications, 0 errors in 0.09s
2025-05-21 01:31:05,491 - app.notification - INFO - Found 1 debt changes to process
2025-05-21 01:31:05,494 - app.notification - INFO - Change tracking completed in 0.10s
2025-05-21 01:31:10,513 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:31:10,516 - app.notification - INFO - Found 5 test changes to process
2025-05-21 01:31:10,520 - app.notification - INFO - Found 1 debt changes to process
2025-05-21 01:31:10,522 - app.notification - INFO - Change tracking completed in 0.01s
2025-05-21 01:31:13,537 - app.notification - INFO - Starting notification cycle
2025-05-21 01:31:13,544 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 01:31:15,534 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:31:15,537 - app.notification - INFO - Found 5 test changes to process
2025-05-21 01:31:15,539 - app.notification - INFO - Found 1 debt changes to process
2025-05-21 01:31:15,540 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 01:31:18,465 - aiogram.event - INFO - Update id=804788714 is handled. Duration 145 ms by bot id=7708914926
2025-05-21 01:31:20,562 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:31:20,565 - app.notification - INFO - Found 5 test changes to process
2025-05-21 01:31:20,569 - app.notification - INFO - Found 1 debt changes to process
2025-05-21 01:31:20,570 - app.notification - INFO - Change tracking completed in 0.01s
2025-05-21 01:31:21,125 - aiogram.event - INFO - Update id=804788715 is handled. Duration 183 ms by bot id=7708914926
2025-05-21 01:31:23,552 - app.notification - INFO - Starting notification cycle
2025-05-21 01:31:23,555 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-21 01:31:23,777 - aiogram.event - INFO - Update id=804788716 is handled. Duration 139 ms by bot id=7708914926
2025-05-21 01:31:25,578 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:31:25,580 - app.notification - INFO - Found 5 test changes to process
2025-05-21 01:31:25,584 - app.notification - INFO - Found 1 debt changes to process
2025-05-21 01:31:25,585 - app.notification - INFO - Change tracking completed in 0.01s
2025-05-21 01:31:25,622 - aiogram.event - INFO - Update id=804788717 is handled. Duration 310 ms by bot id=7708914926
2025-05-21 01:31:28,853 - aiogram.event - INFO - Update id=804788718 is handled. Duration 126 ms by bot id=7708914926
2025-05-21 01:31:30,554 - aiogram.event - INFO - Update id=804788719 is handled. Duration 157 ms by bot id=7708914926
2025-05-21 01:31:30,597 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:31:30,599 - app.notification - INFO - Found 5 test changes to process
2025-05-21 01:31:30,604 - app.notification - INFO - Found 1 debt changes to process
2025-05-21 01:31:30,606 - app.notification - INFO - Change tracking completed in 0.01s
2025-05-21 01:31:33,558 - app.notification - INFO - Starting notification cycle
2025-05-21 01:31:33,562 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-21 01:31:35,622 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:31:35,624 - app.notification - INFO - Found 5 test changes to process
2025-05-21 01:31:35,628 - app.notification - INFO - Found 1 debt changes to process
2025-05-21 01:31:35,629 - app.notification - INFO - Change tracking completed in 0.01s
2025-05-21 01:31:39,292 - aiogram.event - INFO - Update id=804788720 is handled. Duration 190 ms by bot id=7708914926
2025-05-21 01:31:40,639 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:31:40,641 - app.notification - INFO - Found 5 test changes to process
2025-05-21 01:31:40,645 - app.notification - INFO - Found 2 debt changes to process
2025-05-21 01:31:40,809 - app.notification - INFO - Sent 1 debt notifications, 0 errors in 0.17s
2025-05-21 01:31:40,810 - app.notification - INFO - Change tracking completed in 0.17s
2025-05-21 01:31:43,565 - app.notification - INFO - Starting notification cycle
2025-05-21 01:31:43,780 - app.notification - INFO - Debt reminders sent to 1 users
2025-05-21 01:31:43,782 - app.notification - INFO - Notification cycle completed in 0.22s
2025-05-21 01:31:45,818 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:31:45,821 - app.notification - INFO - Found 5 test changes to process
2025-05-21 01:31:45,824 - app.notification - INFO - Found 2 debt changes to process
2025-05-21 01:31:45,826 - app.notification - INFO - Change tracking completed in 0.01s
2025-05-21 01:31:50,834 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:31:50,837 - app.notification - INFO - Found 5 test changes to process
2025-05-21 01:31:50,839 - app.notification - INFO - Found 2 debt changes to process
2025-05-21 01:31:50,840 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 01:31:53,786 - app.notification - INFO - Starting notification cycle
2025-05-21 01:31:53,793 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 01:31:55,856 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:31:55,858 - app.notification - INFO - Found 5 test changes to process
2025-05-21 01:31:55,860 - app.notification - INFO - Found 2 debt changes to process
2025-05-21 01:31:55,861 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 01:31:59,480 - aiogram.event - INFO - Update id=804788721 is handled. Duration 127 ms by bot id=7708914926
2025-05-21 01:32:00,883 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:32:00,885 - app.notification - INFO - Found 5 test changes to process
2025-05-21 01:32:00,889 - app.notification - INFO - Found 2 debt changes to process
2025-05-21 01:32:00,891 - app.notification - INFO - Change tracking completed in 0.01s
2025-05-21 01:32:01,653 - aiogram.event - INFO - Update id=804788722 is handled. Duration 179 ms by bot id=7708914926
2025-05-21 01:32:03,800 - app.notification - INFO - Starting notification cycle
2025-05-21 01:32:03,804 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-21 01:32:05,905 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:32:05,907 - app.notification - INFO - Found 5 test changes to process
2025-05-21 01:32:05,911 - app.notification - INFO - Found 2 debt changes to process
2025-05-21 01:32:05,913 - app.notification - INFO - Change tracking completed in 0.01s
2025-05-21 01:32:10,919 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:32:10,921 - app.notification - INFO - Found 5 test changes to process
2025-05-21 01:32:10,923 - app.notification - INFO - Found 2 debt changes to process
2025-05-21 01:32:10,924 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 01:32:11,591 - aiogram.event - INFO - Update id=804788723 is handled. Duration 126 ms by bot id=7708914926
2025-05-21 01:32:13,810 - app.notification - INFO - Starting notification cycle
2025-05-21 01:32:13,816 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 01:32:14,242 - aiogram.event - INFO - Update id=804788724 is handled. Duration 135 ms by bot id=7708914926
2025-05-21 01:32:15,940 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:32:15,943 - app.notification - INFO - Found 5 test changes to process
2025-05-21 01:32:15,946 - app.notification - INFO - Found 2 debt changes to process
2025-05-21 01:32:16,036 - app.notification - INFO - Sent 1 debt notifications, 0 errors in 0.09s
2025-05-21 01:32:16,037 - app.notification - INFO - Change tracking completed in 0.10s
2025-05-21 01:32:21,056 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:32:21,058 - app.notification - INFO - Found 5 test changes to process
2025-05-21 01:32:21,060 - app.notification - INFO - Found 2 debt changes to process
2025-05-21 01:32:21,062 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 01:32:23,825 - app.notification - INFO - Starting notification cycle
2025-05-21 01:32:23,828 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-21 01:32:26,080 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:32:26,082 - app.notification - INFO - Found 5 test changes to process
2025-05-21 01:32:26,084 - app.notification - INFO - Found 2 debt changes to process
2025-05-21 01:32:26,085 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 01:32:27,715 - aiogram.event - INFO - Update id=804788725 is handled. Duration 122 ms by bot id=7708914926
2025-05-21 01:32:29,799 - aiogram.event - INFO - Update id=804788726 is handled. Duration 134 ms by bot id=7708914926
2025-05-21 01:32:31,102 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:32:31,104 - app.notification - INFO - Found 5 test changes to process
2025-05-21 01:32:31,108 - app.notification - INFO - Found 2 debt changes to process
2025-05-21 01:32:31,265 - app.notification - INFO - Sent 1 debt notifications, 0 errors in 0.16s
2025-05-21 01:32:31,266 - app.notification - INFO - Change tracking completed in 0.16s
2025-05-21 01:32:33,839 - app.notification - INFO - Starting notification cycle
2025-05-21 01:32:33,846 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 01:32:36,271 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:32:36,274 - app.notification - INFO - Found 5 test changes to process
2025-05-21 01:32:36,277 - app.notification - INFO - Found 2 debt changes to process
2025-05-21 01:32:36,278 - app.notification - INFO - Change tracking completed in 0.01s
2025-05-21 01:32:41,295 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:32:41,297 - app.notification - INFO - Found 5 test changes to process
2025-05-21 01:32:41,301 - app.notification - INFO - Found 2 debt changes to process
2025-05-21 01:32:41,303 - app.notification - INFO - Change tracking completed in 0.01s
2025-05-21 01:32:43,855 - app.notification - INFO - Starting notification cycle
2025-05-21 01:32:43,860 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 01:32:46,312 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:32:46,315 - app.notification - INFO - Found 5 test changes to process
2025-05-21 01:32:46,318 - app.notification - INFO - Found 2 debt changes to process
2025-05-21 01:32:46,320 - app.notification - INFO - Change tracking completed in 0.01s
2025-05-21 01:32:51,339 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:32:51,340 - app.notification - INFO - Found 5 test changes to process
2025-05-21 01:32:51,343 - app.notification - INFO - Found 2 debt changes to process
2025-05-21 01:32:51,343 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 01:32:53,866 - app.notification - INFO - Starting notification cycle
2025-05-21 01:32:53,870 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-21 01:32:56,351 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:32:56,354 - app.notification - INFO - Found 5 test changes to process
2025-05-21 01:32:56,358 - app.notification - INFO - Found 2 debt changes to process
2025-05-21 01:32:56,360 - app.notification - INFO - Change tracking completed in 0.01s
2025-05-21 01:33:01,366 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:33:01,369 - app.notification - INFO - Found 5 test changes to process
2025-05-21 01:33:01,371 - app.notification - INFO - Found 2 debt changes to process
2025-05-21 01:33:01,372 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 01:33:02,936 - aiogram.event - INFO - Update id=804788727 is handled. Duration 163 ms by bot id=7708914926
2025-05-21 01:33:03,886 - app.notification - INFO - Starting notification cycle
2025-05-21 01:33:03,893 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 01:33:06,391 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:33:06,393 - app.notification - INFO - Found 5 test changes to process
2025-05-21 01:33:06,397 - app.notification - INFO - Found 2 debt changes to process
2025-05-21 01:33:06,399 - app.notification - INFO - Change tracking completed in 0.01s
2025-05-21 01:33:10,573 - aiogram.event - INFO - Update id=804788728 is handled. Duration 178 ms by bot id=7708914926
2025-05-21 01:33:11,405 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:33:11,407 - app.notification - INFO - Found 5 test changes to process
2025-05-21 01:33:11,410 - app.notification - INFO - Found 2 debt changes to process
2025-05-21 01:33:11,412 - app.notification - INFO - Change tracking completed in 0.01s
2025-05-21 01:33:13,908 - app.notification - INFO - Starting notification cycle
2025-05-21 01:33:13,912 - app.notification - INFO - Notification cycle completed in 0.00s
2025-05-21 01:33:16,428 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:33:16,431 - app.notification - INFO - Found 5 test changes to process
2025-05-21 01:33:16,435 - app.notification - INFO - Found 2 debt changes to process
2025-05-21 01:33:16,437 - app.notification - INFO - Change tracking completed in 0.01s
2025-05-21 01:33:18,084 - aiogram.event - INFO - Update id=804788729 is handled. Duration 149 ms by bot id=7708914926
2025-05-21 01:33:21,455 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:33:21,458 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 01:33:23,926 - app.notification - INFO - Starting notification cycle
2025-05-21 01:33:23,932 - app.notification - INFO - Notification cycle completed in 0.01s
2025-05-21 01:33:26,473 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:33:26,475 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 01:33:31,485 - app.notification - INFO - Starting change tracking cycle
2025-05-21 01:33:31,488 - app.notification - INFO - Change tracking completed in 0.00s
2025-05-21 01:33:32,597 - aiogram.dispatcher - INFO - Polling stopped
2025-05-21 01:33:32,598 - app.notification - INFO - Notification service stopped
2025-05-21 01:33:32,599 - app.notification - INFO - Database connection closed
2025-05-21 01:33:32,869 - app.db_manager - INFO - Database connection closed
2025-05-21 01:33:32,869 - __main__ - INFO - Бот успешно завершил работу
2025-05-21 01:33:32,870 - aiogram.dispatcher - INFO - Polling stopped for bot @pgunoticebot id=7708914926 - '$pgu_notice'
2025-05-21 01:33:32,873 - __main__ - INFO - Бот остановлен по запросу пользователя
2025-05-21 01:33:32,874 - __main__ - INFO - Работа бота завершена
